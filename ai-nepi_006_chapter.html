<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.11">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; — – AI-NEPI Conference Proceedings - Enhanced Edition</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ai-nepi_007_chapter.html" rel="next">
<link href="./ai-nepi_005_chapter.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-09b140d2d032adf2aedb8b099be3ee13.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-350fb9e808f7eb2950c9598fb3f8c4a0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ai-nepi_006_chapter.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">—</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">AI-NEPI Conference Proceedings - Enhanced Edition</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">AI-NEPI Conference Proceedings - Enhanced Edition</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_001_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Large Language Models for the History, Philosophy and Sociology of Science (Workshop)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_003_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">—</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_004_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">—</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_005_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Genre Classification for Historical Medical Periodicals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_006_chapter.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">—</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_007_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">—</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_008_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">—</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_009.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">The Representation of SDG-Related Research in Bibliometric Databases: A Conceptual Inquiry via LLMs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_010.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Extracting Citation Data from Law and Humanities Scholarship</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_011.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Chatting with Papers</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_012.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">RAG Systems in Philosophy and HPSS</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_015.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Plural pursuit across scales</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_016.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Text Granularity and Topic Model Performance</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_017.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Time-Aware Language Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_018.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">LLMs for Chemical Knowledge Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_019.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Interpretable Models for Linguistic Change</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_020.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">LLM for HPS Studies: Analyzing the NHGRI Archive</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_021.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">From Source to Structure: Extracting Knowledge Graphs with LLMs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a>
  <ul class="collapse">
  <li><a href="#the-veritrace-project-uncovering-ancient-wisdoms-influence" id="toc-the-veritrace-project-uncovering-ancient-wisdoms-influence" class="nav-link" data-scroll-target="#the-veritrace-project-uncovering-ancient-wisdoms-influence"><span class="header-section-number">6.1</span> The VERITRACE Project: Uncovering Ancient Wisdom’s Influence</a></li>
  <li><a href="#advancing-computational-history-philosophy-and-sociology-of-science-hpss" id="toc-advancing-computational-history-philosophy-and-sociology-of-science-hpss" class="nav-link" data-scroll-target="#advancing-computational-history-philosophy-and-sociology-of-science-hpss"><span class="header-section-number">6.2</span> Advancing Computational History, Philosophy, and Sociology of Science (HPSS)</a></li>
  <li><a href="#navigating-a-vast-multilingual-corpus" id="toc-navigating-a-vast-multilingual-corpus" class="nav-link" data-scroll-target="#navigating-a-vast-multilingual-corpus"><span class="header-section-number">6.3</span> Navigating a Vast Multilingual Corpus</a></li>
  <li><a href="#core-challenges-and-the-role-of-large-language-models" id="toc-core-challenges-and-the-role-of-large-language-models" class="nav-link" data-scroll-target="#core-challenges-and-the-role-of-large-language-models"><span class="header-section-number">6.4</span> Core Challenges and the Role of Large Language Models</a></li>
  <li><a href="#employing-llms-as-judges-for-metadata-enrichment" id="toc-employing-llms-as-judges-for-metadata-enrichment" class="nav-link" data-scroll-target="#employing-llms-as-judges-for-metadata-enrichment"><span class="header-section-number">6.5</span> Employing LLMs as Judges for Metadata Enrichment</a>
  <ul class="collapse">
  <li><a href="#initial-attempts-and-emerging-hurdles" id="toc-initial-attempts-and-emerging-hurdles" class="nav-link" data-scroll-target="#initial-attempts-and-emerging-hurdles"><span class="header-section-number">6.5.1</span> Initial Attempts and Emerging Hurdles</a></li>
  </ul></li>
  <li><a href="#introducing-the-veritrace-web-application" id="toc-introducing-the-veritrace-web-application" class="nav-link" data-scroll-target="#introducing-the-veritrace-web-application"><span class="header-section-number">6.6</span> Introducing the VERITRACE Web Application</a></li>
  <li><a href="#the-data-processing-backbone" id="toc-the-data-processing-backbone" class="nav-link" data-scroll-target="#the-data-processing-backbone"><span class="header-section-number">6.7</span> The Data Processing Backbone</a></li>
  <li><a href="#exploring-the-veritrace-corpus-statistics-and-metadata" id="toc-exploring-the-veritrace-corpus-statistics-and-metadata" class="nav-link" data-scroll-target="#exploring-the-veritrace-corpus-statistics-and-metadata"><span class="header-section-number">6.8</span> Exploring the VERITRACE Corpus: Statistics and Metadata</a></li>
  <li><a href="#search-analysis-and-reading-tools-for-scholarly-inquiry" id="toc-search-analysis-and-reading-tools-for-scholarly-inquiry" class="nav-link" data-scroll-target="#search-analysis-and-reading-tools-for-scholarly-inquiry"><span class="header-section-number">6.9</span> Search, Analysis, and Reading: Tools for Scholarly Inquiry</a></li>
  <li><a href="#unveiling-textual-reuse-the-match-functionality" id="toc-unveiling-textual-reuse-the-match-functionality" class="nav-link" data-scroll-target="#unveiling-textual-reuse-the-match-functionality"><span class="header-section-number">6.10</span> Unveiling Textual Reuse: The Match Functionality</a>
  <ul class="collapse">
  <li><a href="#lexical-and-semantic-matching-approaches" id="toc-lexical-and-semantic-matching-approaches" class="nav-link" data-scroll-target="#lexical-and-semantic-matching-approaches"><span class="header-section-number">6.10.1</span> Lexical and Semantic Matching Approaches</a></li>
  <li><a href="#customisable-parameters-for-nuanced-analysis" id="toc-customisable-parameters-for-nuanced-analysis" class="nav-link" data-scroll-target="#customisable-parameters-for-nuanced-analysis"><span class="header-section-number">6.10.2</span> Customisable Parameters for Nuanced Analysis</a></li>
  </ul></li>
  <li><a href="#validating-the-approach-sanity-checks-and-case-studies" id="toc-validating-the-approach-sanity-checks-and-case-studies" class="nav-link" data-scroll-target="#validating-the-approach-sanity-checks-and-case-studies"><span class="header-section-number">6.11</span> Validating the Approach: Sanity Checks and Case Studies</a>
  <ul class="collapse">
  <li><a href="#sanity-check-1-lexical-matching-across-languages" id="toc-sanity-check-1-lexical-matching-across-languages" class="nav-link" data-scroll-target="#sanity-check-1-lexical-matching-across-languages"><span class="header-section-number">6.11.1</span> Sanity Check 1: Lexical Matching Across Languages</a></li>
  <li><a href="#sanity-check-2-lexical-self-matching" id="toc-sanity-check-2-lexical-self-matching" class="nav-link" data-scroll-target="#sanity-check-2-lexical-self-matching"><span class="header-section-number">6.11.2</span> Sanity Check 2: Lexical Self-Matching</a></li>
  <li><a href="#sanity-check-3-semantic-matching-of-translations" id="toc-sanity-check-3-semantic-matching-of-translations" class="nav-link" data-scroll-target="#sanity-check-3-semantic-matching-of-translations"><span class="header-section-number">6.11.3</span> Sanity Check 3: Semantic Matching of Translations</a></li>
  <li><a href="#preliminary-findings-and-model-adequacy" id="toc-preliminary-findings-and-model-adequacy" class="nav-link" data-scroll-target="#preliminary-findings-and-model-adequacy"><span class="header-section-number">6.11.4</span> Preliminary Findings and Model Adequacy</a></li>
  </ul></li>
  <li><a href="#future-directions-and-outstanding-challenges" id="toc-future-directions-and-outstanding-challenges" class="nav-link" data-scroll-target="#future-directions-and-outstanding-challenges"><span class="header-section-number">6.12</span> Future Directions and Outstanding Challenges</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">—</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="overview" class="level1 unnumbered">
<h1 class="unnumbered">Overview</h1>
<p>The VERITRACE web application, currently in its ‘alpha’ stage of development, represents an ambitious step towards new research methodologies. This preliminary version is not yet publicly accessible, requiring substantial further work; it serves more as a promise of future capabilities. Central to its current iteration, researchers are testing a BERT-based Large Language Model (LLM), specifically LaBSE (Language-agnostic BERT Sentence Embedding), to generate vector embeddings. These embeddings aim to represent every passage within the project’s extensive textual corpus. However, initial assessments suggest this model may not ultimately prove sufficient for the complex demands of the research. The screenshots presented herein offer a glimpse into the application’s design and potential, though they remain a very poor substitute for direct interaction with the evolving platform.</p>
<section id="the-veritrace-project-uncovering-ancient-wisdoms-influence" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="the-veritrace-project-uncovering-ancient-wisdoms-influence"><span class="header-section-number">6.1</span> The VERITRACE Project: Uncovering Ancient Wisdom’s Influence</h2>
<p>The VERITRACE project, a five-year ERC Starting Grant initiative, embarks on an ambitious journey to trace the intellectual currents flowing from the early modern ‘ancient wisdom’ tradition into the burgeoning field of natural philosophy and science of that era. This tradition manifests in a diverse collection of works, including notable texts such as the Chaldean Oracles, the Sibylline Oracles, the Orphic Hymns, and perhaps most famously for historians of chemistry, the Corpus Hermeticum. These 140 core texts form a ‘close reading corpus’, providing a focused lens on this influential body of thought.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_01.jpg" class="img-fluid figure-img"></p>
<figcaption>Presentation Title Slide illustrating the VERITRACE project’s scope and context.</figcaption>
</figure>
</div>
<p>Historical records confirm the impact of these ancient wisdom texts; for instance, Newton engaged with the Sibylline Oracles, and Kepler possessed familiarity with the Corpus Hermeticum. Nevertheless, the project seeks to delve deeper, aiming to uncover a far broader network of texts and intellectual connections that interacted with this tradition. Many of these works, often penned by lesser-known authors, constitute what one scholar has termed ‘the great unread’, frequently overlooked by historians due to their sheer volume and obscurity. Consequently, VERITRACE focuses on bringing these neglected sources to light.</p>
</section>
<section id="advancing-computational-history-philosophy-and-sociology-of-science-hpss" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="advancing-computational-history-philosophy-and-sociology-of-science-hpss"><span class="header-section-number">6.2</span> Advancing Computational History, Philosophy, and Sociology of Science (HPSS)</h2>
<p>To address its core research questions, the VERITRACE project pioneers large-scale, multilingual exploration within the domain of computational History, Philosophy, and Sociology of Science (HPSS). The team develops tools not only for conventional keyword searching but also for the sophisticated identification of textual reuse. This encompasses both direct, lexical quotation—instances where authors use verbatim material from other works, perhaps without explicit citation—and more subtle, indirect influences. Such indirect reuse might involve paraphrase or allusions that, whilst not direct copies, would have been recognisable to contemporary readers as originating from sources like the Corpus Hermeticum.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_02.jpg" class="img-fluid figure-img"></p>
<figcaption>The VERITRACE project team and its mission statement.</figcaption>
</figure>
</div>
<p>Effectively, the project endeavours to construct an ‘early modern plagiarism detector’ capable of navigating a vast, multilingual corpus. Beyond identifying direct and indirect textual linkages, a primary objective is to uncover previously ignored networks of texts, passages, themes, topics, and authors. Through this comprehensive analytical approach, researchers anticipate the emergence of new patterns and insights into the intellectual history and philosophy of science.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_03.jpg" class="img-fluid figure-img"></p>
<figcaption>Key objectives of the VERITRACE project in computational HPSS.</figcaption>
</figure>
</div>
</section>
<section id="navigating-a-vast-multilingual-corpus" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="navigating-a-vast-multilingual-corpus"><span class="header-section-number">6.3</span> Navigating a Vast Multilingual Corpus</h2>
<p>The foundation of this investigation rests upon a large, diverse, and multilingual dataset, focusing exclusively on printed books and texts, thereby excluding handwritten materials from its current scope. This corpus draws from three primary data sources and encompasses works in at least six different languages, published over approximately two centuries. The chronological parameters span from 1540, chosen for specific historical reasons, to 1728, shortly after Newton’s death.</p>
<p>Key data repositories include:</p>
<ul>
<li><p>Early English Books Online (EEBO)</p></li>
<li><p>Gallica, the digital library of the French National Library</p></li>
<li><p>The Bavarian State Library, which constitutes the largest single source</p></li>
</ul>
<p>Collectively, these sources contribute to a corpus of roughly 430,000 books. State-of-the-art digital techniques are employed to analyse this extensive collection of early modern texts.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_04.jpg" class="img-fluid figure-img"></p>
<figcaption>Overview of the large, diverse, and multilingual dataset used by VERITRACE.</figcaption>
</figure>
</div>
</section>
<section id="core-challenges-and-the-role-of-large-language-models" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="core-challenges-and-the-role-of-large-language-models"><span class="header-section-number">6.4</span> Core Challenges and the Role of Large Language Models</h2>
<p>Several core challenges are inherent in a project of this scale and complexity. Variable Optical Character Recognition (OCR) quality presents a significant hurdle. The textual data, supplied directly by libraries in raw formats such as XML, HOCR, or even HTML files, often lacks ground truth page images. This variability in OCR accuracy inevitably affects all downstream processing and analytical tasks. Managing early modern typography and semantics across at least six languages introduces further complexities. Furthermore, the sheer volume of data—hundreds of thousands of texts printed across Europe over nearly 200 years—demands robust computational strategies.</p>
<p>Large Language Models (LLMs) play a crucial role in addressing these challenges. On the decoder side, GPT-based LLMs assist in enriching and cleaning metadata, acting as ‘judges’ in this process. Whilst this application holds considerable interest, the current focus shifts towards the encoder side. Here, BERT-based LLMs generate embeddings to encode the semantic meaning of sentences and short passages (groups of sentences) within the textual corpus. This encoding is fundamental to the project’s semantic matching capabilities.</p>
</section>
<section id="employing-llms-as-judges-for-metadata-enrichment" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="employing-llms-as-judges-for-metadata-enrichment"><span class="header-section-number">6.5</span> Employing LLMs as Judges for Metadata Enrichment</h2>
<p>One specific, albeit challenging, application of LLMs within VERITRACE involves their use as ‘judges’ to enrich metadata. The basic motivation stems from the desire to map records from high-quality external sources, such as the Universal Short Title Catalogue (USTC), onto the project’s own records. Successful mapping creates enriched metadata, less likely to require extensive manual cleaning.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_05.jpg" class="img-fluid figure-img"></p>
<figcaption>Case study overview of using LLMs as judges to enrich VERITRACE metadata.</figcaption>
</figure>
</div>
<p>Whilst some mapping can be automated using external identifiers, many records lack such straightforward connections. Compounding this, much of the project’s internal data has not yet undergone cleaning, making matching a non-trivial task. The manual comparison of bibliographic metadata—assessing pairs of records to determine if they represent the same underlying printed text—is exceedingly tedious. Team members faced the prospect of reviewing tens of thousands of such pairs, highlighting the need for an automated solution.</p>
<section id="initial-attempts-and-emerging-hurdles" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="initial-attempts-and-emerging-hurdles"><span class="header-section-number">6.5.1</span> Initial Attempts and Emerging Hurdles</h3>
<p>To address this, researchers are exploring a panel, or ‘bench’, of LLMs. Extensive prompt guidelines direct these models to evaluate potential matches, which are initially generated via fuzzy matching algorithms. The LLMs provide yes/no decisions along with reasoning for why a pair of records may or may not represent the same underlying text.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_06.jpg" class="img-fluid figure-img"></p>
<figcaption>Example of metadata comparison for LLM judging.</figcaption>
</figure>
</div>
<p>This endeavour remains a work in progress. A major current challenge is the prevalence of hallucinations in the output from the open-source models (e.g., Llama-based) currently under evaluation. Attempts to mitigate this by requesting more structured output, paradoxically, often lead to more generic and less helpful responses, particularly in the reasoning provided by the models. Achieving the right balance in prompting to elicit accurate and insightful judgments is an ongoing refinement process. Despite these initial difficulties, the potential for LLMs to save considerable time in metadata enrichment remains significant, and further investigation is warranted.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_07.jpg" class="img-fluid figure-img"></p>
<figcaption>Example of prompt guidelines and LLM output for metadata matching.</figcaption>
</figure>
</div>
</section>
</section>
<section id="introducing-the-veritrace-web-application" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="introducing-the-veritrace-web-application"><span class="header-section-number">6.6</span> Introducing the VERITRACE Web Application</h2>
<p>The VERITRACE web application serves as the primary interface for exploring the project’s data and analytical tools. This platform is exceptionally new; indeed, its introduction here marks its first public discussion, preceding even internal team dissemination. As an ‘alpha’ version, it is not yet publicly available and remains under active development on a local machine, with screenshots offering a preliminary view. It functions more as a demonstration of the project’s aspirations than a finalised product.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_08.jpg" class="img-fluid figure-img"></p>
<figcaption>Overview of the VERITRACE Web Application’s alpha version.</figcaption>
</figure>
</div>
<p>Currently, testing involves a BERT-based LLM (LaBSE) to generate vector embeddings for every passage in the corpus. However, early indications suggest this model may not possess the requisite sophistication for the project’s ultimate goals, particularly for nuanced semantic matching. The application’s development continues, with these initial explorations informing future refinements.</p>
</section>
<section id="the-data-processing-backbone" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="the-data-processing-backbone"><span class="header-section-number">6.7</span> The Data Processing Backbone</h2>
<p>Transforming raw textual data from library sources into a queryable format within an Elasticsearch database—the backend of the web application—involves an intricate data processing pipeline. This multi-stage process is far from a simple button-push operation. Numerous steps are essential to prepare the data for analysis.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_09.jpg" class="img-fluid figure-img"></p>
<figcaption>Diagram of the VERITRACE data processing pipeline dashboard and stages.</figcaption>
</figure>
</div>
<p>These steps include:</p>
<ul>
<li><p>Extracting text into manageable files.</p></li>
<li><p>Generating mappings of all character positions.</p></li>
<li><p>Segmenting texts into meaningful units.</p></li>
<li><p>Assessing OCR quality.</p></li>
</ul>
<p>Each of these fifteen stages requires careful optimisation. The generation of embeddings, crucial for semantic analysis, occurs near the end of this complex pipeline. Significant background work underpins the functionality accessible through the web interface.</p>
</section>
<section id="exploring-the-veritrace-corpus-statistics-and-metadata" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="exploring-the-veritrace-corpus-statistics-and-metadata"><span class="header-section-number">6.8</span> Exploring the VERITRACE Corpus: Statistics and Metadata</h2>
<p>The VERITRACE web application offers several modules for interacting with the corpus. The ‘Explore’ section, for instance, provides users with comprehensive statistics about the dataset, drawn directly from a MongoDB database. At present, this encompasses 427,305 metadata records describing the books within the collection. This area allows researchers to gain an overview of the corpus’s composition, including language distributions, data sources, publication decades, and prominent publication places.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_10.jpg" class="img-fluid figure-img"></p>
<figcaption>The VERITRACE ‘Explore’ interface showing corpus statistics.</figcaption>
</figure>
</div>
<p>Beyond aggregate statistics, a ‘Metadata Explorer’ enables users to browse and inspect the rich metadata associated with each text. A key feature here is detailed language information. Language identification algorithms operate on every text, down to segments of approximately 50 characters. This granularity is vital because many early modern texts are multilingual, often containing sections in Greek or other languages alongside the primary Latin, for example. The system identifies these languages and their proportions within each document—such as a text being 15% Greek and 85% Latin—classifying them as ‘substantively multilingual’.</p>
<p>Furthermore, the system attempts to assess OCR quality on a page-by-page basis. This is a challenging task without access to ground truth page images, relying instead on analysis of the raw text. Nevertheless, providing page-level quality assessments, rather than a single score for an entire book, offers more nuanced information for researchers. The efficacy of this OCR assessment method continues to be evaluated.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_11.jpg" class="img-fluid figure-img"></p>
<figcaption>The VERITRACE ‘Metadata Explorer’ interface displaying detailed record information.</figcaption>
</figure>
</div>
</section>
<section id="search-analysis-and-reading-tools-for-scholarly-inquiry" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="search-analysis-and-reading-tools-for-scholarly-inquiry"><span class="header-section-number">6.9</span> Search, Analysis, and Reading: Tools for Scholarly Inquiry</h2>
<p>For many scholars, the ‘Search’ function will likely be the initial point of engagement. The web application supports standard keyword searches across the corpus. Even with a prototype dataset of only 132 files (rather than the full 430,000), the Elasticsearch index already occupies 15 gigabytes, hinting at the terabytes of data the full system will manage. A simple search for “Hermes” in this prototype, for example, might yield 22 documents with 332 total matches.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_12.jpg" class="img-fluid figure-img"></p>
<figcaption>The VERITRACE ‘Search’ interface showing basic and fielded query examples.</figcaption>
</figure>
</div>
<p>Leveraging the power of Elasticsearch, users can execute far more complex queries. Fielded queries allow searching within specific metadata, such as finding all books by Kepler that also contain the keyword “Hermes”. Advanced capabilities include Boolean operators (AND, OR), nested queries, and proximity searches—for instance, locating texts where “Hermes” and “Plato” appear within ten words of each other.</p>
<p>An ‘Analyse’ section is planned, though not yet implemented. This module will incorporate tools for:</p>
<ul>
<li><p>Topic modelling</p></li>
<li><p>Latent Semantic Analysis (LSA)</p></li>
<li><p>Diachronic analysis, to explore linguistic and conceptual shifts over time.</p></li>
</ul>
<p>Insights from the wider research community inform the development of these analytical features.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_13.jpg" class="img-fluid figure-img"></p>
<figcaption>The VERITRACE ‘Analyse’ interface showing planned analysis tools.</figcaption>
</figure>
</div>
<p>Recognising the importance of accessing original source materials, a ‘Read’ section integrates a Mirador viewer. This allows scholars to view PDF facsimiles of every text in the corpus, alongside its metadata, mirroring the experience of browsing a physical library’s digital collection.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_14.jpg" class="img-fluid figure-img"></p>
<figcaption>The VERITRACE ‘Read’ interface with an integrated Mirador viewer for text facsimiles.</figcaption>
</figure>
</div>
</section>
<section id="unveiling-textual-reuse-the-match-functionality" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="unveiling-textual-reuse-the-match-functionality"><span class="header-section-number">6.10</span> Unveiling Textual Reuse: The Match Functionality</h2>
<p>A cornerstone of the VERITRACE web application is its ‘Match’ section, designed to identify textual reuse between different works. This tool allows users to specify query texts and comparison texts. Comparisons can be performed between single documents, across multiple selected documents (e.g., comparing Newton’s Latin <em>Opticks</em> to all of Kepler’s works in the database), or, ambitiously, between one text and the entire corpus. The latter presents considerable computational challenges regarding processing time and user experience, but remains a developmental goal.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_15.jpg" class="img-fluid figure-img"></p>
<figcaption>The VERITRACE ‘Match’ interface for configuring textual similarity comparisons.</figcaption>
</figure>
</div>
<section id="lexical-and-semantic-matching-approaches" class="level3" data-number="6.10.1">
<h3 data-number="6.10.1" class="anchored" data-anchor-id="lexical-and-semantic-matching-approaches"><span class="header-section-number">6.10.1</span> Lexical and Semantic Matching Approaches</h3>
<p>The system offers two fundamental types of matching:</p>
<ol type="1">
<li><p>Lexical matching: This approach uses keyword-based techniques to find passages with similar vocabulary. It is effective for identifying direct textual parallels but is language-dependent.</p></li>
<li><p>Semantic matching: Employing vector embeddings, this method seeks conceptually similar passages, even if they share little or no common vocabulary. This is crucial for a multilingual corpus where translations or paraphrases might obscure lexical links.</p></li>
</ol>
<p>Hybrid approaches, combining lexical and semantic methods with adjustable weighting, are also available.</p>
</section>
<section id="customisable-parameters-for-nuanced-analysis" class="level3" data-number="6.10.2">
<h3 data-number="6.10.2" class="anchored" data-anchor-id="customisable-parameters-for-nuanced-analysis"><span class="header-section-number">6.10.2</span> Customisable Parameters for Nuanced Analysis</h3>
<p>Recognising that text matching is not a one-size-fits-all process, the interface exposes numerous parameters for users to tweak. Whilst default settings provide a balanced starting point, users can adjust elements such as minimum similarity scores to refine search results according to their specific research needs. Different matching modes—‘Standard’, ‘Comprehensive’ (for maximum recall, albeit slower), and ‘Faster’ (for higher precision with potentially fewer results)—offer further control over the comparison process.</p>
</section>
</section>
<section id="validating-the-approach-sanity-checks-and-case-studies" class="level2" data-number="6.11">
<h2 data-number="6.11" class="anchored" data-anchor-id="validating-the-approach-sanity-checks-and-case-studies"><span class="header-section-number">6.11</span> Validating the Approach: Sanity Checks and Case Studies</h2>
<p>To evaluate the efficacy of the matching tools, researchers conduct several ‘sanity checks’ using known textual relationships. One such check involves comparing Newton’s Latin version of his <em>Opticks</em> (1719 edition) with the English edition from 1718. These texts, being translations of each other, provide a useful test case.</p>
<section id="sanity-check-1-lexical-matching-across-languages" class="level3" data-number="6.11.1">
<h3 data-number="6.11.1" class="anchored" data-anchor-id="sanity-check-1-lexical-matching-across-languages"><span class="header-section-number">6.11.1</span> Sanity Check 1: Lexical Matching Across Languages</h3>
<p>When a lexical match is performed between the Latin and English editions of <em>Opticks</em>, the expectation is that no significant matches will be found, given their different languages. Using the ‘Standard’ matching mode, this holds true—no matches are reported. Interestingly, the ‘Comprehensive’ mode does identify three matches, revealing small sections of English text, likely from prefatory material, within the predominantly Latin edition. This demonstrates the sensitivity of different modes and confirms the general principle that lexical matching is language-specific.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_16.jpg" class="img-fluid figure-img"></p>
<figcaption>Results of a lexical match attempt between Latin and English versions of Newton’s Opticks, showing no significant matches.</figcaption>
</figure>
</div>
</section>
<section id="sanity-check-2-lexical-self-matching" class="level3" data-number="6.11.2">
<h3 data-number="6.11.2" class="anchored" data-anchor-id="sanity-check-2-lexical-self-matching"><span class="header-section-number">6.11.2</span> Sanity Check 2: Lexical Self-Matching</h3>
<p>As another baseline, lexically matching a text against itself should, ideally, yield near-perfect results. When Newton’s English <em>Opticks</em> is compared to itself, the system reports a high degree of similarity, with extensive coverage and quality scores. The interface provides detailed statistics, including the number of passages compared and the distribution of similarity scores, offering transparency into the matching process. Automatic highlighting displays the query passage on the left and the comparison passage on the right, along with their similarity score.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_17.jpg" class="img-fluid figure-img"></p>
<figcaption>Results of lexically matching Newton’s Opticks to itself, showing high similarity.</figcaption>
</figure>
</div>
</section>
<section id="sanity-check-3-semantic-matching-of-translations" class="level3" data-number="6.11.3">
<h3 data-number="6.11.3" class="anchored" data-anchor-id="sanity-check-3-semantic-matching-of-translations"><span class="header-section-number">6.11.3</span> Sanity Check 3: Semantic Matching of Translations</h3>
<p>The real test for the LLM-powered tools comes with semantic matching across languages. When comparing the Latin and English <em>Opticks</em> using semantic matching, the system should identify conceptual similarities despite the linguistic differences.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_18.jpg" class="img-fluid figure-img"></p>
<figcaption>Configuration for a semantic match between Newton’s Latin Optice and its English translation.</figcaption>
</figure>
</div>
<p>Initial results from such semantic comparisons appear reasonable. Passages discussing similar concepts, such as colours, are identified as matches, even with underlying OCR imperfections. This suggests that the vector embeddings are capturing some level of conceptual correspondence across translations.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_19.jpg" class="img-fluid figure-img"></p>
<figcaption>Examples of semantic matches found between Latin and English versions of Newton’s Opticks.</figcaption>
</figure>
</div>
</section>
<section id="preliminary-findings-and-model-adequacy" class="level3" data-number="6.11.4">
<h3 data-number="6.11.4" class="anchored" data-anchor-id="preliminary-findings-and-model-adequacy"><span class="header-section-number">6.11.4</span> Preliminary Findings and Model Adequacy</h3>
<p>However, the semantic matching performance is not without its issues. Whilst the quality score for identified matches can be high, indicating strong similarity for the pairs found, the coverage score—representing how much of the documents are involved in matches—can sometimes be lower than expected. This discrepancy might, in part, reflect genuine differences between editions; for instance, the Latin edition of <em>Opticks</em> is considerably longer than the English one.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_20.jpg" class="img-fluid figure-img"></p>
<figcaption>Summary statistics for the semantic match between Latin and English Opticks, highlighting areas for investigation.</figcaption>
</figure>
</div>
<p>Nevertheless, further queries using the current LaBSE embedding model suggest it may not be entirely adequate for the nuanced demands of historical textual analysis. The potential for ‘out-of-domain model collapse’—where a model trained on general modern text performs poorly on specialised historical corpora—is a concern.</p>
</section>
</section>
<section id="future-directions-and-outstanding-challenges" class="level2" data-number="6.12">
<h2 data-number="6.12" class="anchored" data-anchor-id="future-directions-and-outstanding-challenges"><span class="header-section-number">6.12</span> Future Directions and Outstanding Challenges</h2>
<p>As the VERITRACE project progresses, several critical issues and areas for development lie on the horizon. The choice of vector embedding model is paramount. LaBSE, selected partly for its efficiency in terms of storage and processing speed, may prove insufficient. Alternative models, such as XLM-Roberta, intfloat multilingual-e5-large, or specialised historical mBERT variants, present other trade-offs between accuracy, storage requirements, and inference time. A fundamental question is whether to persist with pre-trained models or to invest in fine-tuning a base model specifically on the VERITRACE historical corpus.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_006_slide_21.jpg" class="img-fluid figure-img"></p>
<figcaption>A summary of key issues and future challenges for the VERITRACE project.</figcaption>
</figure>
</div>
<p>Further challenges include:</p>
<ul>
<li><p>Semantic drift: The meaning of words and concepts changes over time. How effectively current LLMs handle such diachronic semantic shifts across centuries and languages within the same vector space remains an open question.</p></li>
<li><p>OCR quality: Poor OCR accuracy profoundly impacts downstream tasks, from basic sentence segmentation to complex semantic analysis. Re-OCRing the entire corpus is not feasible. Strategies might involve selectively re-OCRing the poorest quality texts or investing effort in locating existing higher-quality digital versions.</p></li>
<li><p>Scaling and performance: The current prototype, operating on only 132 texts, already shows query times of around 15 seconds for complex operations. Scaling these capabilities to the full corpus of 430,000 texts will undoubtedly present significant performance engineering challenges.</p></li>
</ul>
<p>Addressing these multifaceted issues will be crucial for realising the full potential of VERITRACE to illuminate the complex intellectual heritage of early modern science. Continued research, methodological refinement, and community engagement will guide these future endeavours.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ai-nepi_005_chapter.html" class="pagination-link" aria-label="Genre Classification for Historical Medical Periodicals">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Genre Classification for Historical Medical Periodicals</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ai-nepi_007_chapter.html" class="pagination-link" aria-label="---">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">—</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>