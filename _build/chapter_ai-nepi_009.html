<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.13">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matteo Ottaviani &amp; Stephan Stahlschmidt">
<meta name="dcterms.date" content="2025-01-01">

<title>9&nbsp; SDG-Research in Bibliometric DBs - LLMs for HPSS – AI-NEPI Conference Proceedings - Enhanced Edition</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./chapter_ai-nepi_010.html" rel="next">
<link href="./chapter_ai-nepi_008.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-a126389619fad6dbfb296a5315d49fef.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-350fb9e808f7eb2950c9598fb3f8c4a0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./chapter_ai-nepi_009.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">SDG-Research in Bibliometric DBs - LLMs for HPSS</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">AI-NEPI Conference Proceedings - Enhanced Edition</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">AI-NEPI Conference Proceedings - Enhanced Edition</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Large Language Models for the History, Philosophy and Sociology of Science (Workshop)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Large Language Models in History, Philosophy, and Sociology of Science: A Primer and Critical Reflections</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_004.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">```</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_005.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title"><code>&lt;/span&gt;]{.hidden .quarto-markdown-envelope-contents render-id="cXVhcnRvLWludC1zaWRlYmFyOi9jaGFwdGVyX2FpLW5lcGlfMDA0Lmh0bWw8c3Bhbi1jbGFzcz0nY2hhcHRlci1udW1iZXInPjQ8L3NwYW4+LS08c3Bhbi1jbGFzcz0nY2hhcHRlci10aXRsZSc+YGBgPC9zcGFuPg=="} [&lt;span class='chapter-number'&gt;5&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_006.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">```</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_007.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Explainable AI and AI-based Scientific Insights in the Humanities</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_008.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modelling Science: LLM for the History, Philosophy and Sociology of Science</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_009.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">SDG-Research in Bibliometric DBs - LLMs for HPSS</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_010.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Parsing Footnotes in Law and Humanities Scholarship with Large Language Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_011.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Science dynamics and AI</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_012.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">RAG Systems for Philosophical Research</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_015.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title"><code>&lt;/span&gt;]{.hidden .quarto-markdown-envelope-contents render-id="cXVhcnRvLWludC1zaWRlYmFyOi9jaGFwdGVyX2FpLW5lcGlfMDA2Lmh0bWw8c3Bhbi1jbGFzcz0nY2hhcHRlci1udW1iZXInPjY8L3NwYW4+LS08c3Bhbi1jbGFzcz0nY2hhcHRlci10aXRsZSc+YGBgPC9zcGFuPg=="} [&lt;span class='chapter-number'&gt;7&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;Explainable AI and AI-based Scientific Insights in the Humanities&lt;/span&gt;]{.hidden .quarto-markdown-envelope-contents render-id="cXVhcnRvLWludC1zaWRlYmFyOi9jaGFwdGVyX2FpLW5lcGlfMDA3Lmh0bWw8c3Bhbi1jbGFzcz0nY2hhcHRlci1udW1iZXInPjc8L3NwYW4+LS08c3Bhbi1jbGFzcz0nY2hhcHRlci10aXRsZSc+RXhwbGFpbmFibGUtQUktYW5kLUFJLWJhc2VkLVNjaWVudGlmaWMtSW5zaWdodHMtaW4tdGhlLUh1bWFuaXRpZXM8L3NwYW4+"} [&lt;span class='chapter-number'&gt;8&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;Modelling Science: LLM for the History, Philosophy and Sociology of Science&lt;/span&gt;]{.hidden .quarto-markdown-envelope-contents render-id="cXVhcnRvLWludC1zaWRlYmFyOi9jaGFwdGVyX2FpLW5lcGlfMDA4Lmh0bWw8c3Bhbi1jbGFzcz0nY2hhcHRlci1udW1iZXInPjg8L3NwYW4+LS08c3Bhbi1jbGFzcz0nY2hhcHRlci10aXRsZSc+TW9kZWxsaW5nLVNjaWVuY2U6LUxMTS1mb3ItdGhlLUhpc3RvcnksLVBoaWxvc29waHktYW5kLVNvY2lvbG9neS1vZi1TY2llbmNlPC9zcGFuPg=="} [&lt;span class='chapter-number'&gt;9&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;SDG-Research in Bibliometric DBs - LLMs for HPSS&lt;/span&gt;]{.hidden .quarto-markdown-envelope-contents render-id="cXVhcnRvLWludC1zaWRlYmFyOi9jaGFwdGVyX2FpLW5lcGlfMDA5Lmh0bWw8c3Bhbi1jbGFzcz0nY2hhcHRlci1udW1iZXInPjk8L3NwYW4+LS08c3Bhbi1jbGFzcz0nY2hhcHRlci10aXRsZSc+U0RHLVJlc2VhcmNoLWluLUJpYmxpb21ldHJpYy1EQnMtLS1MTE1zLWZvci1IUFNTPC9zcGFuPg=="} [&lt;span class='chapter-number'&gt;10&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;Parsing Footnotes in Law and Humanities Scholarship with Large Language Models&lt;/span&gt;]{.hidden .quarto-markdown-envelope-contents render-id="cXVhcnRvLWludC1zaWRlYmFyOi9jaGFwdGVyX2FpLW5lcGlfMDEwLmh0bWw8c3Bhbi1jbGFzcz0nY2hhcHRlci1udW1iZXInPjEwPC9zcGFuPi0tPHNwYW4tY2xhc3M9J2NoYXB0ZXItdGl0bGUnPlBhcnNpbmctRm9vdG5vdGVzLWluLUxhdy1hbmQtSHVtYW5pdGllcy1TY2hvbGFyc2hpcC13aXRoLUxhcmdlLUxhbmd1YWdlLU1vZGVsczwvc3Bhbj4="} [&lt;span class='chapter-number'&gt;11&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;Science dynamics and AI&lt;/span&gt;]{.hidden .quarto-markdown-envelope-contents render-id="cXVhcnRvLWludC1zaWRlYmFyOi9jaGFwdGVyX2FpLW5lcGlfMDExLmh0bWw8c3Bhbi1jbGFzcz0nY2hhcHRlci1udW1iZXInPjExPC9zcGFuPi0tPHNwYW4tY2xhc3M9J2NoYXB0ZXItdGl0bGUnPlNjaWVuY2UtZHluYW1pY3MtYW5kLUFJPC9zcGFuPg=="} [&lt;span class='chapter-number'&gt;12&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;RAG Systems for Philosophical Research&lt;/span&gt;]{.hidden .quarto-markdown-envelope-contents render-id="cXVhcnRvLWludC1zaWRlYmFyOi9jaGFwdGVyX2FpLW5lcGlfMDEyLmh0bWw8c3Bhbi1jbGFzcz0nY2hhcHRlci1udW1iZXInPjEyPC9zcGFuPi0tPHNwYW4tY2xhc3M9J2NoYXB0ZXItdGl0bGUnPlJBRy1TeXN0ZW1zLWZvci1QaGlsb3NvcGhpY2FsLVJlc2VhcmNoPC9zcGFuPg=="} [&lt;span class='chapter-number'&gt;13&lt;/span&gt;&nbsp; &lt;span class='chapter-title'&gt;</code>markdown</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_016.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Titles, Abstracts, or Full-Texts? A Comparative Study of LDA and BERTopic Performance</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_017.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">```</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_018.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Leveraging Large Language Models for Metadata Enrichment and Diachronic Analysis of Chemical Knowledge in Historical Scientific Texts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_020.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Unlocking Science’s Hidden Dynamics: A Computational Approach to Archival Research</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_021.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Transforming Biographical Sources into Knowledge Graphs</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#background-sdg-classification-in-bibliometric-databases" id="toc-background-sdg-classification-in-bibliometric-databases" class="nav-link" data-scroll-target="#background-sdg-classification-in-bibliometric-databases"><span class="header-section-number">9.1</span> Background: SDG Classification in Bibliometric Databases</a></li>
  <li><a href="#case-study-objectives-and-framework" id="toc-case-study-objectives-and-framework" class="nav-link" data-scroll-target="#case-study-objectives-and-framework"><span class="header-section-number">9.2</span> Case Study Objectives and Framework</a></li>
  <li><a href="#methodology-actors-data-and-sdg-selection" id="toc-methodology-actors-data-and-sdg-selection" class="nav-link" data-scroll-target="#methodology-actors-data-and-sdg-selection"><span class="header-section-number">9.3</span> Methodology: Actors, Data, and SDG Selection</a></li>
  <li><a href="#comparative-analysis-of-sdg-classified-papers" id="toc-comparative-analysis-of-sdg-classified-papers" class="nav-link" data-scroll-target="#comparative-analysis-of-sdg-classified-papers"><span class="header-section-number">9.4</span> Comparative Analysis of SDG-Classified Papers</a></li>
  <li><a href="#llm-selection-and-fine-tuning-strategy" id="toc-llm-selection-and-fine-tuning-strategy" class="nav-link" data-scroll-target="#llm-selection-and-fine-tuning-strategy"><span class="header-section-number">9.5</span> LLM Selection and Fine-Tuning Strategy</a></li>
  <li><a href="#prompt-engineering-and-llm-benchmarking" id="toc-prompt-engineering-and-llm-benchmarking" class="nav-link" data-scroll-target="#prompt-engineering-and-llm-benchmarking"><span class="header-section-number">9.6</span> Prompt Engineering and LLM Benchmarking</a></li>
  <li><a href="#sdg-4-results-unaddressed-targets-and-biases" id="toc-sdg-4-results-unaddressed-targets-and-biases" class="nav-link" data-scroll-target="#sdg-4-results-unaddressed-targets-and-biases"><span class="header-section-number">9.7</span> SDG 4 Results: Unaddressed Targets and Biases</a></li>
  <li><a href="#cross-sdg-analysis-systematic-oversights" id="toc-cross-sdg-analysis-systematic-oversights" class="nav-link" data-scroll-target="#cross-sdg-analysis-systematic-oversights"><span class="header-section-number">9.8</span> Cross-SDG Analysis: Systematic Oversights</a></li>
  <li><a href="#summary-and-limitations" id="toc-summary-and-limitations" class="nav-link" data-scroll-target="#summary-and-limitations"><span class="header-section-number">9.9</span> Summary and Limitations</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">SDG-Research in Bibliometric DBs - LLMs for HPSS</span></h1>
</div>


<div class="quarto-title-meta-author column-body">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Matteo Ottaviani &amp; Stephan Stahlschmidt <a href="mailto:ottaviani@dzhw.eu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            DZHW berlin
          </p>
      </div>
  </div>

<div class="quarto-title-meta column-body">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="overview">Overview</h2>
<p>Researchers investigated the application of Large Language Models (<em>LLMs</em>) to assess biases within publications classified under Sustainable Development Goals (<em>SDGs</em>). This inquiry spanned three major bibliometric databases: <em>Web of Science</em>, <em>Scopus</em>, and <em>OpenAlex</em>. The core motivation stemmed from these databases’ critical role in the sociology of science, influencing academic behaviour, funding, and policy. Crucially, they also reflect political and commercial interests, possessing a performative nature.</p>
<p>This project built upon previous work that identified minimal overlap in <em>SDG</em>-labelled publications across different providers. It aimed to understand the aggregate effects of <em>LLM</em>-based tools on the representation of <em>SDG</em>-related research. Furthermore, the study conducted a proof-of-concept exercise on automating information extraction for research decision-making. Investigators selected five <em>SDGs</em> directly related to socioeconomic inequalities: <em>SDG4</em> (Quality Education), <em>SDG5</em> (Gender Equality), <em>SDG10</em> (Reduced Inequalities), <em>SDG8</em> (Decent Work and Economic Growth), and <em>SDG9</em> (Industry, Innovation, and Infrastructure).</p>
<p>For classification, the team utilised a shared corpus of 15,471,336 jointly indexed publications, spanning January 2015 to July 2023. Regarding the <em>LLM</em> component, researchers fine-tuned <em>DistilGPT2</em>, a lightweight, open-source model, separately on publication abstracts for each <em>SDG</em> and database combination. This process yielded 15 distinct models, a choice that minimised pre-existing knowledge about <em>SDGs</em> within the model. Prompts, derived from <em>SDG</em> targets (8-12 targets per <em>SDG</em>, 10 diverse questions per target), benchmarked the fine-tuned <em>LLMs</em>, employing three decoding strategies: <em>top-k</em>, <em>nucleus</em>, and <em>contrastive search</em>. Noun phrase extraction from <em>LLM</em> responses facilitated analysis across four dimensions: locations, actors, data/metrics, and focuses.</p>
<p>Key findings revealed a systematic oversight in the data concerning disadvantaged individuals, the poorest countries, and underrepresented topics explicitly mentioned in <em>SDG</em> targets. Conversely, economic superpowers received considerable attention. The study highlighted the decisive impact of bibliometric <em>SDG</em> classification and the sensitivity of <em>LLMs</em> to training data, model architecture, parameters, and decoding strategies.</p>
</section>
<section id="background-sdg-classification-in-bibliometric-databases" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="background-sdg-classification-in-bibliometric-databases"><span class="header-section-number">9.1</span> Background: SDG Classification in Bibliometric Databases</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_01.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 01</figcaption>
</figure>
</div>
<p>Researchers initiated an investigation to employ Large Language Models (<em>LLMs</em>) as a technology for assessing biases within publications classified by three principal bibliometric databases. This work acknowledges that bibliometric databases, such as <em>Web of Science</em>, <em>Scopus</em>, and <em>OpenAlex</em>, function as critical digital infrastructures, enabling bibliometric analyses and impact assessments throughout the scientific community. Nevertheless, these databases possess a performative nature, shaped by particular understandings of the science system and specific value attributions, as Whitley (2000) and Winkler (1988) have noted.</p>
<p>Major bibliometric databases have recently implemented classifications that align scholarly publications with the United Nations Sustainable Development Goals (<em>SDGs</em>). However, prior research, notably by Armitage et al.&nbsp;(2020), discovered significant discrepancies in <em>SDG</em> labelling across various providers like Elsevier, Bergen, and Aurora, revealing minimal overlap in the resulting datasets. Such differences in classification carry substantial implications; they can foster varying perceptions of research priorities, which, in turn, may influence resource allocation and policy decisions.</p>
<p>Furthermore, these databases exert considerable influence over academics, researchers, funding bodies, and policymakers, whilst also responding to diverse political and commercial interests. The current study specifically considered <em>Web of Science</em>, <em>Scopus</em>, and <em>OpenAlex</em>, building upon earlier findings that highlighted the limited overlap in publications when different <em>SDG</em> search queries were applied.</p>
</section>
<section id="case-study-objectives-and-framework" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="case-study-objectives-and-framework"><span class="header-section-number">9.2</span> Case Study Objectives and Framework</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_02.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 02</figcaption>
</figure>
</div>
<p>Investigators conducted a case study, detailed by Ottaviani &amp; StahlSchmidt (2024), focusing on the representation of UN Sustainable Development Goals within bibliometric data. A primary motivation involved assessing the aggregated effects on how <em>SDG</em>-related research is portrayed in bibliometric databases, particularly if <em>LLM</em>-based tools were to be introduced. To achieve this, researchers employed <em>DistilGPT2</em>, a minimally pre-trained Large Language Model. They separately trained this model on distinct subsets of publication abstracts, each corresponding to the <em>SDG</em> classifications provided by the diverse bibliometric databases.</p>
<p>The <em>LLM</em> technology served a dual purpose in this study. Firstly, it functioned as a detector of biases present in the data. Secondly, it acted as a proof-of-concept exercise, demonstrating the potential of <em>LLMs</em> in automating information extraction to inform research-related decision-making. Researchers aimed to understand the aggregate effects stemming from metadata processing by bibliometric databases and how these subsequently influence various stakeholders, including researchers, policymakers, and consultants. Ultimately, the project sought to develop a generalisable exercise for assessing the potential impact of such technologies on research policy.</p>
<p>A conceptualised chain of dependencies illustrates this process: <em>SDG</em> classification initially defines what constitutes “Research” on <em>SDGs</em>. Various actors, including researchers, small and medium-sized enterprises (<em>SMEs</em>), governments, and other intermediaries, then process this research. Subsequently, this processed research informs “Decision-making to align with <em>SDGs</em>,” which in turn affects “Socioeconomic inequalities.” Parallel to this, the <em>LLM</em>, acting as a “detector of ‘biases’,” influences the “Introduction of <em>LLM</em> in Research Policy,” which also has repercussions for “Socioeconomic inequalities.” Therefore, alterations in the metadata that define “research on <em>SDGs</em>” can significantly impact advice, choices, indicators, and implemented measures.</p>
</section>
<section id="methodology-actors-data-and-sdg-selection" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="methodology-actors-data-and-sdg-selection"><span class="header-section-number">9.3</span> Methodology: Actors, Data, and SDG Selection</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_04.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 04</figcaption>
</figure>
</div>
<p>The research design incorporated three principal bibliometric databases as key actors. These included two proprietary systems, <em>Web of Science</em> (operated by Clarivate, US) and <em>Scopus</em> (managed by Elsevier, UK), alongside the open-access database <em>OpenAlex</em> (formerly a Microsoft entity, US). Investigators focused their analysis on five specific UN Sustainable Development Goals, chosen for their direct relevance to socioeconomic inequalities. They categorised these into two dimensions: the socio dimension, encompassing <em>SDG4</em> (Quality Education), <em>SDG5</em> (Gender Equality), and <em>SDG10</em> (Reduce Inequalities); and the economic dimension, which included <em>SDG8</em> (Decent Work and Economic Growth) and <em>SDG9</em> (Industry, Innovation, and Infrastructure).</p>
<p>For data processing, researchers utilised a jointly indexed subset comprising 15,471,336 publications. They compiled this dataset by collecting publications shared across all three bibliometric databases, identifying them through exact DOI matching, and covering the period from January 2015 to July 2023. Subsequently, the team undertook an analysis of the performance of the three distinct classification standards for the five selected <em>SDGs</em>. This approach led to the creation of three separate subsets of publications for each <em>SDG</em>—one corresponding to each bibliometric database—forming the basis for the comparative analysis.</p>
</section>
<section id="comparative-analysis-of-sdg-classified-papers" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="comparative-analysis-of-sdg-classified-papers"><span class="header-section-number">9.4</span> Comparative Analysis of SDG-Classified Papers</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_05.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 05</figcaption>
</figure>
</div>
<p>A comparative analysis, detailed in Ottaviani &amp; StahlSchmidt (2024), examined the overlap of papers classified under specific Sustainable Development Goals (<em>SDGs</em>) across <em>Web of Science</em>, <em>OpenAlex</em>, and <em>Scopus</em>, particularly for the socio-dimension <em>SDGs</em>. For <em>SDG4</em> (Quality Education), <em>Scopus</em> classified the largest share of publications (339,063; 52.2%), followed by <em>OpenAlex</em> (218,907; 33.6%), and <em>Web of Science</em> (124,359; 19.1%). The intersection of all three databases for <em>SDG4</em> contained 46,711 publications (7.2%).</p>
<p>Concerning <em>SDG5</em> (Gender Equality), <em>Web of Science</em> accounted for the majority of classifications (373,224; 57.4%), with <em>Scopus</em> classifying 82,277 (26.2%) and <em>OpenAlex</em> 38,066 (12.1%). Notably, all three databases commonly classified only 21,770 publications (6.9%) under <em>SDG5</em>. Investigators observed that <em>Scopus</em> did not designate some publications present in its database as <em>SDG5</em>. Furthermore, <em>Web of Science</em>’s <em>SDG5</em> classifications included approximately 10% of publications from mathematics, such as those on geometrical differential equations, indicating potential discrepancies in classification criteria.</p>
<p>For <em>SDG10</em> (Reduce Inequalities), <em>Scopus</em> again led in volume (236,665; 36.2%), with <em>OpenAlex</em> (213,419; 32.7%) and <em>Web of Science</em> (99,460; 15.2%) following. The common overlap for <em>SDG10</em> was the smallest, at 13,319 publications (2.0%). These findings generally align with Armitage (2020), underscoring the consistently small overlap in <em>SDG</em> labelling across different bibliometric providers. This limited congruence highlights the varying interpretations and applications of <em>SDG</em> classifications.</p>
</section>
<section id="llm-selection-and-fine-tuning-strategy" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="llm-selection-and-fine-tuning-strategy"><span class="header-section-number">9.5</span> LLM Selection and Fine-Tuning Strategy</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_07.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 07</figcaption>
</figure>
</div>
<p>Researchers conceptualised the development of Large Language Models (<em>LLMs</em>) possessing knowledge derived exclusively from publications classified under a specific Sustainable Development Goal (<em>SDG</em>) by a particular bibliometric database. The initial ambition to train such <em>LLMs</em> from scratch solely on these publications proved a substantial undertaking due to its resource-intensive nature. Consequently, a compromise involved fine-tuning an existing, pre-trained <em>LLM</em> that possessed minimal prior knowledge, using the abstracts of the selected publications.</p>
<p>Leading commercial and open-source pre-trained <em>LLMs</em>, such as <em>GPT-4</em> (with 1.76 trillion parameters), were deemed ineligible for this work. Their unsuitability stemmed from their extensive pre-training datasets (which include sources like Wikipedia and Reddit conversations), meaning they already embed considerable knowledge about <em>SDGs</em> and possess strong, pre-existing semantic associations. To circumvent this, investigators selected <em>DistilGPT2</em>. This model, a “very light” English-speaking variant of the open-source <em>GPT-2</em>, employs a “distillation” technique (Sanh, 2019) and has significantly fewer parameters (82 million).</p>
<p>Its advantages included feasibility for use with proprietary data and its minimally instructed nature, which ensures its behaviour is more strongly influenced by the fine-tuning data. Researchers operated under the premise that <em>DistilGPT2</em> had no significant prior semantic knowledge relevant to the publications or the prompts used. This approach facilitated the fine-tuning of 15 distinct <em>DistilGPT2</em> models, each tailored to a specific combination of one of the three bibliometric databases and one of the five chosen <em>SDGs</em> (<em>DistilGPT2</em>{bibDB, SDG}).</p>
</section>
<section id="prompt-engineering-and-llm-benchmarking" class="level2" data-number="9.6">
<h2 data-number="9.6" class="anchored" data-anchor-id="prompt-engineering-and-llm-benchmarking"><span class="header-section-number">9.6</span> Prompt Engineering and LLM Benchmarking</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_10.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 10</figcaption>
</figure>
</div>
<p>The United Nations’ Sustainable Development Goals (<em>SDGs</em>) are structured with specific targets; for instance, <em>SDG4</em> (Quality Education) includes targets such as ensuring universal completion of primary and secondary education (Target 4.1) and equal access to tertiary education (Target 4.3), amongst others (typically 8-12 targets for the <em>SDGs</em> analysed, as per the 2030 Agenda for <em>SDGs</em>, UN). To benchmark the fine-tuned <em>LLMs</em>, researchers developed a systematic approach to prompt engineering. For each individual target within an <em>SDG</em>, they crafted ten diverse questions, or prompts, each designed to probe different facets of that target.</p>
<p>This methodology yielded a unique set of 80 to 120 prompts for every <em>SDG</em> under investigation. These prompts established a benchmark, enabling the assessment of the <em>LLMs</em>’ compliance with <em>SDG</em> objectives and the identification of potential “biases” in their responses. For example, for Target 4.1 of <em>SDG4</em>, prompts included questions like, “How can countries ensure that all girls and boys complete free, equitable and quality primary and secondary education by 2030?” and others addressing strategies, outcome improvements, and challenges.</p>
<p>The research design followed a structured workflow for each bibliometric database (<em>DB</em>) and <em>SDG</em> combination. Initially, a set of publication abstracts, classified under a specific <em>SDG</em> by a particular database, served as the input for fine-tuning a <em>DistilGPT-2</em> model. The resultant fine-tuned model (<em>Fine-tuned DistilGPT-2 SDG# DB#</em>) then processed the set of prompts specifically designed for that <em>SDG</em>. This processing employed three distinct decoding strategies—<em>top-k</em>, <em>nucleus</em>, and <em>contrastive search</em>—generating three sets of responses. Finally, a “prompts’ words filter” was applied to these responses, leading to the extraction of noun phrases (<em>Noun phrases SDG# DB#</em>), which formed the basis for subsequent analysis.</p>
</section>
<section id="sdg-4-results-unaddressed-targets-and-biases" class="level2" data-number="9.7">
<h2 data-number="9.7" class="anchored" data-anchor-id="sdg-4-results-unaddressed-targets-and-biases"><span class="header-section-number">9.7</span> SDG 4 Results: Unaddressed Targets and Biases</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_13.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 13</figcaption>
</figure>
</div>
<p>Researchers analysed the responses generated by the fine-tuned Large Language Models (<em>LLMs</em>) by matching extracted noun phrases with the official <em>SDG</em> targets. This analysis spanned four key dimensions: <em>Locations</em>, <em>Actors</em>, <em>Data/Metrics</em>, and <em>Focuses</em>. For each <em>SDG</em>, the assessment aimed to determine, firstly, the <em>LLM</em>’s compliance with its targets and, secondly, any discernible biases. Notably, the team also observed differences in the outputs corresponding to the different source bibliometric databases.</p>
<p>Taking <em>SDG4</em> (Quality Education) as an illustrative example, the <em>LLMs</em>, despite receiving target-specific questions, failed to address several critical areas. In terms of <em>Locations</em>, whilst countries like South Africa, the U.S., Australia, China, and Hong Kong appeared (reflecting the content of unique database subsets), a significant omission of African countries (beyond South Africa), Developing Countries more broadly, Least Developed Countries, Other Developing Countries, and Small Island Developing States was evident—all explicitly or implicitly relevant to <em>SDG4</em> targets.</p>
<p>Regarding <em>Actors</em>, terms like “Classroom” and “Family” appeared, and general categories such as “All Women and Men,” “Children,” “Teachers,” and “Youth” were addressed. However, the <em>LLM</em> responses did not adequately cover crucial vulnerable groups specified in <em>SDG4</em> targets, including “The Vulnerable,” “Persons With Disabilities,” “Indigenous Peoples,” “Children In Vulnerable Situations,” and “All Learners.”</p>
<p>The <em>Data/Metrics</em> dimension saw mentions of “Survey,” “PISA,” “Evaluation,” “Self-Efficacy,” and “Thematic Analysis,” indicating a focus on certain research methodologies and assessment tools. For <em>Focuses</em>, whilst aspects like “Quality Primary and Secondary Education” and “Access” were addressed, numerous target areas remained unmentioned. These unaddressed focuses included:</p>
<ul>
<li><p>“Affordable And Quality Technical, Vocational And Tertiary Education”</p></li>
<li><p>“Relevant Skills” for employment</p></li>
<li><p>“Vocational Training”</p></li>
<li><p>“Scholarships”</p></li>
<li><p>“Safe, non-violent, inclusive learning environments”</p></li>
<li><p>“Sustainable Lifestyles”</p></li>
<li><p>“Human Rights”</p></li>
<li><p>“Global Citizenship”</p></li>
<li><p>“Appreciation Of Cultural Diversity”</p></li>
<li><p>“Free primary and secondary education”</p></li>
<li><p>“Tertiary education”</p></li>
</ul>
<p>This pattern of overlooking specific target elements, particularly concerning sensitive locations, vulnerable actors, and key educational focuses, emerged as a recurrent finding.</p>
</section>
<section id="cross-sdg-analysis-systematic-oversights" class="level2" data-number="9.8">
<h2 data-number="9.8" class="anchored" data-anchor-id="cross-sdg-analysis-systematic-oversights"><span class="header-section-number">9.8</span> Cross-SDG Analysis: Systematic Oversights</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_14.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 14</figcaption>
</figure>
</div>
<p>Across the five Sustainable Development Goals (<em>SDGs</em>) analysed, several consistent patterns and systematic oversights emerged from the <em>LLM</em> responses. Regarding <em>Locations</em>, least developed countries received scant attention; for instance, Sub-Saharan Africa appeared notably only in the context of <em>SDG8</em>. The United States featured with such prominence that it suggested an “undoubted monopoly” in the data’s geographical focus. Following the U.S., South Africa and China were the most frequently cited locations, with the United Kingdom and Australia also appearing.</p>
<p>Concerning <em>Actors</em>, a particularly troubling finding was the systematic overlooking of discriminated and vulnerable categories of people. This oversight persisted across all five <em>SDGs</em> examined, indicating a significant gap in the <em>LLM</em>-generated content relative to the inclusive aims of the <em>SDGs</em> themselves.</p>
<p>In the <em>Metrics</em> dimension, the <em>LLMs</em> frequently referenced various data sources, such as Demographic and Health Surveys (<em>DHS</em>) and World Values Surveys (<em>WVS</em>), alongside numerous other metrics, indicators, and benchmarks. A range of research methodologies also appeared, including theoretical and empirical approaches, thematic analysis, market dynamics, and macroeconomic studies. An interesting distinction arose from the source databases: for three of the <em>SDGs</em>, <em>LLMs</em> trained on <em>Web of Science</em> data tended to reflect a more theoretical research approach, whereas those trained on <em>Scopus</em> and <em>OpenAlex</em> data exhibited a more empirical orientation.</p>
<p>Finally, whilst <em>Focuses</em> were generally <em>SDG</em>-specific, the <em>LLMs</em> often failed to address the most sensitive topics embedded within the <em>SDG</em> targets. Examples of such overlooked critical issues include human trafficking, human exploitation, and migration, all of which are pertinent to the broader aims of socioeconomic equality and development.</p>
</section>
<section id="summary-and-limitations" class="level2" data-number="9.9">
<h2 data-number="9.9" class="anchored" data-anchor-id="summary-and-limitations"><span class="header-section-number">9.9</span> Summary and Limitations</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_18.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 18</figcaption>
</figure>
</div>
<p>The investigation’s principal finding highlights that introducing Large Language Models (<em>LLMs</em>) as an analytical <em>AI</em> tool, positioned between the initial <em>SDG</em> classification of scientific literature and its subsequent use by policymakers, uncovers a systematic oversight within the data. Specifically, scientific publications, when classified by <em>SDGs</em> and processed by these <em>LLMs</em>, tend to neglect the most disadvantaged categories of individuals, the poorest countries, and various underrepresented topics that the <em>SDG</em> targets explicitly aim to address. Conversely, the analysis indicates that substantial attention is directed towards economic superpowers and highly developing nations. This outcome underscores how an ostensibly objective, science-informed practice, such as the bibliometric classification of <em>SDGs</em>, can have decisive and potentially skewed impacts on the perceived landscape of research.</p>
<p>Researchers acknowledge several inherent limitations in this study. <em>LLMs</em> exhibit high sensitivity to various factors, including model architecture; although the choice of <em>DistilGPT2</em> aimed to mitigate some aspects of this, more developed architectures could yield different outcomes. Sensitivity to training data presents another critical factor, which this work partially addressed by utilising three distinct bibliometric databases. Furthermore, (hyper-)parameters and the chosen decoding strategy significantly influence <em>LLM</em> outputs; the use of three different decoding strategies (<em>top-k</em>, <em>nucleus</em>, and <em>contrastive search</em>) attempted to account for this variability. The study presents a general framework, and whilst its application to very specific, applied cases could potentially produce different results, the researchers express some reservation about this likelihood.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./chapter_ai-nepi_008.html" class="pagination-link" aria-label="Modelling Science: LLM for the History, Philosophy and Sociology of Science">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modelling Science: LLM for the History, Philosophy and Sociology of Science</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./chapter_ai-nepi_010.html" class="pagination-link" aria-label="Parsing Footnotes in Law and Humanities Scholarship with Large Language Models">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Parsing Footnotes in Law and Humanities Scholarship with Large Language Models</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>