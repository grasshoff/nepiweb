<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.13">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matteo Ottaviani &amp; Stephan Stahlschmidt">
<meta name="dcterms.date" content="2025-01-01">

<title>9&nbsp; SDG-Research in Bibliometric DBs - LLMs for HPSS – AI-NEPI Conference Proceedings - Enhanced Edition</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./chapter_ai-nepi_010.html" rel="next">
<link href="./chapter_ai-nepi_008.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-a126389619fad6dbfb296a5315d49fef.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-350fb9e808f7eb2950c9598fb3f8c4a0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./chapter_ai-nepi_009.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">SDG-Research in Bibliometric DBs - LLMs for HPSS</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">AI-NEPI Conference Proceedings - Enhanced Edition</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">AI-NEPI Conference Proceedings - Enhanced Edition</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_001.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Large Language Models for the History, Philosophy and Sociology of Science</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_003.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Large Language Models in History, Philosophy, and Sociology of Science: A Primer and Critical Reflections</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_004.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Philosophy at Scale: Introducing OpenAlex Mapper</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_005.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Genre Classification for Historical Medical Periodicals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_006.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">VERITRACE Traces de la Vérité: The reappropriation of ancient wisdom in early modern natural philosophy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_007.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Explainable AI and AI-based Scientific Insights in the Humanities</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_008.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modeling Science: LLM for the History, Philosophy and Sociology of Science</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_009.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">SDG-Research in Bibliometric DBs - LLMs for HPSS</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_010.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Parsing Footnotes in Law and Humanities Scholarship with Large Language Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_011.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Science dynamics and AI</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_012.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">RAG Systems for Philosophical Research</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_015.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Quantum gravity and plural pursuit in science</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_016.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Comparative Topic Modelling: LDA and BERTopic Across Textual Granularities</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_017.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">The Time Transformer: Imbuing Large Language Models with Explicit Temporal Awareness</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_018.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Leveraging Large Language Models for Metadata Enrichment and Diachronic Analysis of Chemical Knowledge in Historical Scientific Texts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_019.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Modelling Context and its Interplay in Language Variation and Change: A Pilot Study on the Chemical Revolution</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_020.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Unlocking Science’s Hidden Processes: A Computational Analysis of the NHGRI Archive</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_ai-nepi_021.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">From Source to Structure: Extracting Knowledge Graphs with LLMs</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#background-and-motivation-sdg-classification-in-bibliometric-databases" id="toc-background-and-motivation-sdg-classification-in-bibliometric-databases" class="nav-link" data-scroll-target="#background-and-motivation-sdg-classification-in-bibliometric-databases"><span class="header-section-number">9.1</span> Background and Motivation: SDG Classification in Bibliometric Databases</a></li>
  <li><a href="#case-study-objectives-and-conceptual-framework" id="toc-case-study-objectives-and-conceptual-framework" class="nav-link" data-scroll-target="#case-study-objectives-and-conceptual-framework"><span class="header-section-number">9.2</span> Case Study Objectives and Conceptual Framework</a></li>
  <li><a href="#methodology-actors-data-and-sdg-selection" id="toc-methodology-actors-data-and-sdg-selection" class="nav-link" data-scroll-target="#methodology-actors-data-and-sdg-selection"><span class="header-section-number">9.3</span> Methodology: Actors, Data, and SDG Selection</a></li>
  <li><a href="#comparative-analysis-of-sdg-classified-papers" id="toc-comparative-analysis-of-sdg-classified-papers" class="nav-link" data-scroll-target="#comparative-analysis-of-sdg-classified-papers"><span class="header-section-number">9.4</span> Comparative Analysis of SDG-Classified Papers</a></li>
  <li><a href="#llm-technology-selection-and-fine-tuning-strategy" id="toc-llm-technology-selection-and-fine-tuning-strategy" class="nav-link" data-scroll-target="#llm-technology-selection-and-fine-tuning-strategy"><span class="header-section-number">9.5</span> LLM Technology Selection and Fine-Tuning Strategy</a></li>
  <li><a href="#prompt-engineering-and-research-design-for-llm-benchmarking" id="toc-prompt-engineering-and-research-design-for-llm-benchmarking" class="nav-link" data-scroll-target="#prompt-engineering-and-research-design-for-llm-benchmarking"><span class="header-section-number">9.6</span> Prompt Engineering and Research Design for LLM Benchmarking</a></li>
  <li><a href="#illustrative-results-for-sdg-4-unaddressed-targets-and-biases" id="toc-illustrative-results-for-sdg-4-unaddressed-targets-and-biases" class="nav-link" data-scroll-target="#illustrative-results-for-sdg-4-unaddressed-targets-and-biases"><span class="header-section-number">9.7</span> Illustrative Results for SDG 4: Unaddressed Targets and Biases</a></li>
  <li><a href="#cross-sdg-considerations-and-systematic-oversights" id="toc-cross-sdg-considerations-and-systematic-oversights" class="nav-link" data-scroll-target="#cross-sdg-considerations-and-systematic-oversights"><span class="header-section-number">9.8</span> Cross-SDG Considerations and Systematic Oversights</a></li>
  <li><a href="#summary-of-findings-and-limitations" id="toc-summary-of-findings-and-limitations" class="nav-link" data-scroll-target="#summary-of-findings-and-limitations"><span class="header-section-number">9.9</span> Summary of Findings and Limitations</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">SDG-Research in Bibliometric DBs - LLMs for HPSS</span></h1>
</div>


<div class="quarto-title-meta-author column-body">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Matteo Ottaviani &amp; Stephan Stahlschmidt <a href="mailto:ottaviani@dzhw.eu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            DZHW berlin
          </p>
      </div>
  </div>

<div class="quarto-title-meta column-body">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="overview">Overview</h2>
<p>The authors investigated the application of <em>Large Language Models</em> (<em>LLMs</em>) to assess biases within publications classified under the Sustainable Development Goals (SDGs). This inquiry spanned three major bibliometric databases: Web of Science, Scopus, and OpenAlex. The core motivation for this work arose from the critical role these databases assume within the sociology of science, influencing academic behaviour, funding, and policy. These platforms also reflect political and commercial interests, whilst possessing an inherent performative nature.</p>
<p>This investigation built upon previous research, which identified minimal overlap in SDG-labelled publications across different providers. The project aimed to elucidate the aggregate effects of <em>LLM</em>-based tools on the representation of SDG-related research. Furthermore, it served as a proof-of-concept exercise, demonstrating the automation of information extraction for research decision-making.</p>
<p>The authors selected five SDGs directly related to socioeconomic inequalities: SDG4 (Quality Education), SDG5 (Gender Equality), SDG10 (Reduced Inequalities), SDG8 (Decent Work and Economic Growth), and SDG9 (Industry, Innovation, and Infrastructure). For classification, they utilised a shared corpus of 15,471,336 jointly indexed publications, spanning January 2015 to July 2023.</p>
<p>For the <em>LLM</em> component, the research team fine-tuned <em>DistilGPT2</em>, a lightweight, open-source model. They trained this model separately on publication abstracts for each SDG and database combination, thereby creating 15 distinct models. This strategic choice minimised any pre-existing knowledge about SDGs within the model. Prompts, derived from SDG targets (typically 8-12 targets per SDG, with 10 diverse questions per target), served to benchmark the fine-tuned <em>LLMs</em>. The authors employed three decoding strategies: top-k, nucleus, and contrastive search. Noun phrase extraction from the <em>LLM</em> responses subsequently facilitated analysis across four dimensions: locations, actors, data/metrics, and focuses.</p>
<p>Key findings revealed a systematic oversight within the data concerning disadvantaged individuals, the poorest countries, and underrepresented topics explicitly mentioned in SDG targets. Conversely, economic superpowers received considerable attention. The study thus highlighted the decisive impact of bibliometric SDG classification and the sensitivity of <em>LLMs</em> to training data, model architecture, parameters, and decoding strategies.</p>
</section>
<section id="background-and-motivation-sdg-classification-in-bibliometric-databases" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="background-and-motivation-sdg-classification-in-bibliometric-databases"><span class="header-section-number">9.1</span> Background and Motivation: SDG Classification in Bibliometric Databases</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_01.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 01</figcaption>
</figure>
</div>
<p>The authors initiated an investigation to employ <em>Large Language Models</em> (<em>LLMs</em>) as a technology for assessing biases within publications classified by three principal bibliometric databases. This work acknowledges that bibliometric databases, such as Web of Science, Scopus, and OpenAlex, function as critical digital infrastructures. They enable bibliometric analyses and impact assessments throughout the scientific community. Nevertheless, as Whitley (2000) and Winkler (1988) noted, these databases possess a performative nature, shaped by particular understandings of the science system and specific value attributions.</p>
<p>Major bibliometric databases have recently implemented classifications that align scholarly publications with the United Nations Sustainable Development Goals (SDGs). However, prior research, notably by Armitage et al.&nbsp;(2020), discovered significant discrepancies in SDG labelling across various providers, including Elsevier, Bergen, and Aurora. This revealed minimal overlap in the resulting datasets. Such differences in classification carry substantial implications; they can foster varying perceptions of research priorities, which, in turn, may influence resource allocation and policy decisions.</p>
<p>Furthermore, these databases exert considerable influence over academics, researchers, funding bodies, and policymakers, whilst also responding to diverse political and commercial interests. The current study specifically considered Web of Science, Scopus, and OpenAlex, building upon earlier findings that highlighted the limited overlap in publications when different SDG search queries were applied.</p>
</section>
<section id="case-study-objectives-and-conceptual-framework" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="case-study-objectives-and-conceptual-framework"><span class="header-section-number">9.2</span> Case Study Objectives and Conceptual Framework</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_02.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 02</figcaption>
</figure>
</div>
<p>Ottaviani and StahlSchmidt (2024) conducted a detailed case study, focusing on the representation of UN Sustainable Development Goals within bibliometric data. A primary motivation involved assessing the aggregated effects on how SDG-related research is portrayed in bibliometric databases, particularly if <em>LLM</em>-based tools were to be introduced. To achieve this, the authors employed <em>DistilGPT2</em>, a minimally pre-trained <em>Large Language Model</em>. They separately trained this model on distinct subsets of publication abstracts, each corresponding to the SDG classifications provided by the diverse bibliometric databases.</p>
<p>The <em>LLM</em> technology served a dual purpose in this study. Firstly, it functioned as a detector of biases present in the data. Secondly, it acted as a proof-of-concept exercise, demonstrating the potential of <em>LLMs</em> in automating information extraction to inform research-related decision-making. The authors aimed to understand the aggregate effects stemming from metadata processing by bibliometric databases and how these subsequently influence various stakeholders, including researchers, policymakers, and consultants. Ultimately, the project sought to develop a generalisable exercise for assessing the potential impact of such technologies on research policy.</p>
<p>A conceptualised chain of dependencies illustrates this process:</p>
<ul>
<li><p>SDG classification initially defines what constitutes “Research” on SDGs.</p></li>
<li><p>Various actors, including researchers, small and medium-sized enterprises (SMEs), governments, and other intermediaries, then process this research.</p></li>
<li><p>Subsequently, this processed research informs “Decision-making to align with SDGs,” which in turn affects “Socioeconomic inequalities.”</p></li>
<li><p>Parallel to this, the <em>LLM</em>, acting as a “detector of ‘biases’,” influences the “Introduction of <em>LLM</em> in Research Policy,” which also has repercussions for “Socioeconomic inequalities.”</p></li>
</ul>
<p>Therefore, alterations in the metadata that define “research on SDGs” can significantly impact advice, choices, indicators, and implemented measures.</p>
</section>
<section id="methodology-actors-data-and-sdg-selection" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="methodology-actors-data-and-sdg-selection"><span class="header-section-number">9.3</span> Methodology: Actors, Data, and SDG Selection</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_04.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 04</figcaption>
</figure>
</div>
<p>The research design incorporated three principal bibliometric databases as key actors. These included two proprietary systems, Web of Science (operated by Clarivate, US) and Scopus (managed by Elsevier, UK), alongside the open-access database OpenAlex (formerly a Microsoft entity, US). The authors focused their analysis on five specific UN Sustainable Development Goals, chosen for their direct relevance to socioeconomic inequalities. They categorised these into two dimensions:</p>
<ul>
<li><p>The socio dimension, encompassing SDG4 (Quality Education), SDG5 (Gender Equality), and SDG10 (Reduce Inequalities).</p></li>
<li><p>The economic dimension, which included SDG8 (Decent Work and Economic Growth) and SDG9 (Industry, Innovation, and Infrastructure).</p></li>
</ul>
<p>For data processing, the team utilised a jointly indexed subset comprising 15,471,336 publications. They compiled this dataset by collecting publications shared across all three bibliometric databases, identified through exact DOI matching, covering the period from January 2015 to July 2023. Subsequently, the authors undertook an analysis of the performance of the three distinct classification standards for the five selected SDGs. This approach resulted in the creation of three separate subsets of publications for each SDG—one corresponding to each bibliometric database—forming the basis for the comparative analysis.</p>
</section>
<section id="comparative-analysis-of-sdg-classified-papers" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="comparative-analysis-of-sdg-classified-papers"><span class="header-section-number">9.4</span> Comparative Analysis of SDG-Classified Papers</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_05.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 05</figcaption>
</figure>
</div>
<p>Ottaviani and StahlSchmidt (2024) conducted a comparative analysis, examining the overlap of papers classified under specific Sustainable Development Goals (SDGs) across Web of Science, OpenAlex, and Scopus, particularly for the socio-dimension SDGs. For SDG4 (Quality Education), Scopus classified the largest share of publications (339,063; 52.2%), followed by OpenAlex (218,907; 33.6%), and Web of Science (124,359; 19.1%). The intersection of all three databases for SDG4 contained 46,711 publications (7.2%).</p>
<p>Concerning SDG5 (Gender Equality), Web of Science accounted for the majority of classifications (373,224; 57.4%), with Scopus classifying 82,277 (26.2%) and OpenAlex 38,066 (12.1%). Notably, only 21,770 publications (6.9%) were commonly classified under SDG5 by all three. The authors observed that some publications present in Scopus were not designated as SDG5 by that database. Furthermore, Web of Science’s SDG5 classifications included approximately 10% of publications from mathematics, such as those on geometrical differential equations, indicating potential discrepancies in classification criteria.</p>
<p>For SDG10 (Reduce Inequalities), Scopus again led in volume (236,665; 36.2%), with OpenAlex (213,419; 32.7%) and Web of Science (99,460; 15.2%) following. The common overlap for SDG10 was the smallest, at 13,319 publications (2.0%). These findings generally align with Armitage (2020), underscoring the consistently small overlap in SDG labelling across different bibliometric providers. This limited congruence highlights the varying interpretations and applications of SDG classifications.</p>
</section>
<section id="llm-technology-selection-and-fine-tuning-strategy" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="llm-technology-selection-and-fine-tuning-strategy"><span class="header-section-number">9.5</span> LLM Technology Selection and Fine-Tuning Strategy</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_07.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 07</figcaption>
</figure>
</div>
<p>The authors conceptualised the development of <em>Large Language Models</em> (<em>LLMs</em>) possessing knowledge derived exclusively from publications classified under a specific Sustainable Development Goal (SDG) by a particular bibliometric database. The initial ambition to train such <em>LLMs</em> from scratch solely on these publications proved to be a substantial undertaking due to its resource-intensive nature. Consequently, a compromise involved fine-tuning an existing, pre-trained <em>LLM</em> that possessed minimal prior knowledge, using the abstracts of the selected publications.</p>
<p>Leading commercial and open-source pre-trained <em>LLMs</em>, such as <em>GPT-4</em> (with 1.76 trillion parameters), were deemed ineligible for this work. Their unsuitability stemmed from their extensive pre-training datasets, which include sources like Wikipedia and Reddit conversations. This meant they already embedded considerable knowledge about SDGs and possessed strong, pre-existing semantic associations. To circumvent this, the team selected <em>DistilGPT2</em>. This model, a “very light” English-speaking variant of the open-source <em>GPT-2</em>, employs a “distillation” technique (Sanh, 2019) and has significantly fewer parameters (82 million). Its advantages included feasibility for use with proprietary data and its minimally instructed nature, which ensures that its behaviour is more strongly influenced by the fine-tuning data. The authors operated under the premise that <em>DistilGPT2</em> had no significant prior semantic knowledge relevant to the publications or the prompts used. This approach led to the fine-tuning of 15 distinct <em>DistilGPT2</em> models, each tailored to a specific combination of one of the three bibliometric databases and one of the five chosen SDGs (<em>DistilGPT2</em>{bibDB, SDG}).</p>
</section>
<section id="prompt-engineering-and-research-design-for-llm-benchmarking" class="level2" data-number="9.6">
<h2 data-number="9.6" class="anchored" data-anchor-id="prompt-engineering-and-research-design-for-llm-benchmarking"><span class="header-section-number">9.6</span> Prompt Engineering and Research Design for LLM Benchmarking</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_10.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 10</figcaption>
</figure>
</div>
<p>The United Nations’ Sustainable Development Goals (SDGs) are structured with specific targets. For instance, SDG4 (Quality Education) includes targets such as ensuring universal completion of primary and secondary education (Target 4.1) and equal access to tertiary education (Target 4.3), amongst others (typically 8-12 targets for the SDGs analysed, as per the 2030 Agenda for SDGs, UN). To benchmark the fine-tuned <em>LLMs</em>, the authors developed a systematic approach to prompt engineering. For each individual target within an SDG, they crafted ten diverse questions, or prompts, each designed to probe different facets of that target. This methodology yielded a unique set of 80 to 120 prompts for every SDG under investigation. These prompts established a benchmark, enabling the assessment of the <em>LLMs’</em> compliance with SDG objectives and the identification of potential “biases” in their responses. For example, for Target 4.1 of SDG4, prompts included questions such as, “How can countries ensure that all girls and boys complete free, equitable and quality primary and secondary education by 2030?” and others addressing strategies, outcome improvements, and challenges.</p>
<p>The research design followed a structured workflow for each bibliometric database (DB) and SDG combination:</p>
<ul>
<li><p>Initially, a set of publication abstracts, classified under a specific SDG by a particular database, served as the input for fine-tuning a <em>DistilGPT-2</em> model.</p></li>
<li><p>The resultant fine-tuned model (<em>Fine-tuned DistilGPT-2 SDG# DB#</em>) then processed the set of prompts specifically designed for that SDG.</p></li>
<li><p>This processing employed three distinct decoding strategies—top-k, nucleus, and contrastive search—generating three sets of responses.</p></li>
<li><p>Finally, a “prompts’ words filter” was applied to these responses, leading to the extraction of noun phrases (<em>Noun phrases SDG# DB#</em>), which formed the basis for subsequent analysis.</p></li>
</ul>
</section>
<section id="illustrative-results-for-sdg-4-unaddressed-targets-and-biases" class="level2" data-number="9.7">
<h2 data-number="9.7" class="anchored" data-anchor-id="illustrative-results-for-sdg-4-unaddressed-targets-and-biases"><span class="header-section-number">9.7</span> Illustrative Results for SDG 4: Unaddressed Targets and Biases</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_13.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 13</figcaption>
</figure>
</div>
<p>The authors analysed the responses generated by the fine-tuned <em>Large Language Models</em> (<em>LLMs</em>) by matching extracted noun phrases with the official SDG targets. This analysis spanned four key dimensions: Locations, Actors, Data/Metrics, and Focuses. For each SDG, the assessment aimed to determine, firstly, the <em>LLM</em>’s compliance with its targets and, secondly, any discernible biases. Notably, differences in the outputs corresponding to the different source bibliometric databases were also observed.</p>
<p>Taking SDG4 (Quality Education) as an illustrative example, the <em>LLMs</em>, despite being prompted with target-specific questions, failed to address several critical areas.</p>
<ul>
<li><p>In terms of Locations, whilst countries like South Africa, the U.S., Australia, China, and Hong Kong were mentioned (reflecting the content of unique database subsets), there was a significant omission of African countries (beyond South Africa), Developing Countries more broadly, Least Developed Countries, Other Developing Countries, and Small Island Developing States—all explicitly or implicitly relevant to SDG4 targets.</p></li>
<li><p>Regarding Actors, terms like “Classroom” and “Family” appeared, and general categories such as “All Women and Men,” “Children,” “Teachers,” and “Youth” were addressed. However, crucial vulnerable groups specified in SDG4 targets, including “The Vulnerable,” “Persons With Disabilities,” “Indigenous Peoples,” “Children In Vulnerable Situations,” and “All Learners,” were not adequately covered in the <em>LLM</em> responses.</p></li>
<li><p>The Data/Metrics dimension saw mentions of “Survey,” “PISA,” “Evaluation,” “Self-Efficacy,” and “Thematic Analysis,” indicating a focus on certain research methodologies and assessment tools.</p></li>
<li><p>For Focuses, whilst aspects like “Quality Primary and Secondary Education” and “Access” were addressed, numerous target areas remained unmentioned. These unaddressed focuses included “Affordable And Quality Technical, Vocational And Tertiary Education,” “Relevant Skills” for employment, “Vocational Training,” “Scholarships,” “Safe, non-violent, inclusive learning environments,” “Sustainable Lifestyles,” “Human Rights,” “Global Citizenship,” “Appreciation Of Cultural Diversity,” “Free primary and secondary education,” and “Tertiary education.”</p></li>
</ul>
<p>This pattern of overlooking specific target elements, particularly concerning sensitive locations, vulnerable actors, and key educational focuses, emerged as a recurrent finding.</p>
</section>
<section id="cross-sdg-considerations-and-systematic-oversights" class="level2" data-number="9.8">
<h2 data-number="9.8" class="anchored" data-anchor-id="cross-sdg-considerations-and-systematic-oversights"><span class="header-section-number">9.8</span> Cross-SDG Considerations and Systematic Oversights</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_14.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 14</figcaption>
</figure>
</div>
<p>Across the five Sustainable Development Goals (SDGs) analysed, several consistent patterns and systematic oversights emerged from the <em>LLM</em> responses.</p>
<ul>
<li><p>Regarding Locations, least developed countries received scant attention; for instance, Sub-Saharan Africa was only notably mentioned in the context of SDG8. The United States featured with such prominence that it suggested an “undoubted monopoly” in the data’s geographical focus. Following the U.S., South Africa and China were the most frequently cited locations, with the United Kingdom and Australia also appearing.</p></li>
<li><p>Concerning Actors, a particularly troubling finding was the systematic overlooking of discriminated and vulnerable categories of people. This oversight persisted across all five SDGs examined, indicating a significant gap in the <em>LLM</em>-generated content relative to the inclusive aims of the SDGs themselves.</p></li>
<li><p>In the Metrics dimension, the <em>LLMs</em> frequently referenced various data sources, such as Demographic and Health Surveys (DHS) and World Values Surveys (WVS), alongside numerous other metrics, indicators, and benchmarks. A range of research methodologies also appeared, including theoretical and empirical approaches, thematic analysis, market dynamics, and macroeconomic studies. An interesting distinction arose from the source databases: for three of the SDGs, Web of Science-trained <em>LLMs</em> tended to reflect a more theoretical research approach, whereas those trained on Scopus and OpenAlex data exhibited a more empirical orientation.</p></li>
<li><p>Finally, whilst Focuses were generally SDG-specific, the <em>LLMs</em> often failed to address the most sensitive topics embedded within the SDG targets. Examples of such overlooked critical issues include human trafficking, human exploitation, and migration, all of which are pertinent to the broader aims of socioeconomic equality and development.</p></li>
</ul>
</section>
<section id="summary-of-findings-and-limitations" class="level2" data-number="9.9">
<h2 data-number="9.9" class="anchored" data-anchor-id="summary-of-findings-and-limitations"><span class="header-section-number">9.9</span> Summary of Findings and Limitations</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_009_slide_18.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide 18</figcaption>
</figure>
</div>
<p>The investigation’s principal finding highlights that the introduction of <em>Large Language Models</em> (<em>LLMs</em>) as an analytical AI tool, positioned between the initial SDG classification of scientific literature and its use by policymakers, uncovers a systematic oversight within the data. Specifically, scientific publications, when classified by SDGs and processed by these <em>LLMs</em>, tend to neglect the most disadvantaged categories of individuals, the poorest countries, and various underrepresented topics that the SDG targets explicitly aim to address. Conversely, the analysis indicates that substantial attention is directed towards economic superpowers and highly developing nations. This outcome underscores how an ostensibly objective, science-informed practice, such as the bibliometric classification of SDGs, can have decisive and potentially skewed impacts on the perceived landscape of research.</p>
<p>The authors acknowledge several limitations inherent in this study.</p>
<ul>
<li><p><em>LLMs</em> exhibit high sensitivity to various factors, including model architecture; although the choice of <em>DistilGPT2</em> aimed to mitigate some aspects of this, more developed architectures could yield different outcomes.</p></li>
<li><p>Sensitivity to training data is another critical factor, partially addressed in this work by utilising three distinct bibliometric databases.</p></li>
<li><p>Furthermore, (hyper-)parameters and the chosen decoding strategy significantly influence <em>LLM</em> outputs; the use of three different decoding strategies (top-k, nucleus, and contrastive search) attempted to account for this variability.</p></li>
</ul>
<p>The study presents a general framework, and it remains possible that its application to very specific, applied cases could produce different results, though the authors express some reservation about this likelihood.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./chapter_ai-nepi_008.html" class="pagination-link" aria-label="Modeling Science: LLM for the History, Philosophy and Sociology of Science">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modeling Science: LLM for the History, Philosophy and Sociology of Science</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./chapter_ai-nepi_010.html" class="pagination-link" aria-label="Parsing Footnotes in Law and Humanities Scholarship with Large Language Models">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Parsing Footnotes in Law and Humanities Scholarship with Large Language Models</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>