<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.11">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andrea and Slava">

<title>11&nbsp; Can We Build an AI Solution to Chat with Papers? Exploring the Ghostwriter and EverythingData Workflow – AI-NEPI Conference Proceedings - Enhanced Edition</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ai-nepi_012_chapter.html" rel="next">
<link href="./ai-nepi_010_chapter.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-09b140d2d032adf2aedb8b099be3ee13.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-350fb9e808f7eb2950c9598fb3f8c4a0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ai-nepi_011_chapter.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Can We Build an AI Solution to Chat with Papers? Exploring the Ghostwriter and EverythingData Workflow</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">AI-NEPI Conference Proceedings - Enhanced Edition</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">AI-NEPI Conference Proceedings - Enhanced Edition</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_001_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Large Language Models for the History, Philosophy and Sociology of Science (Workshop)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_003_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">The Transformer’s Legacy: Understanding Large Language Models and their Application in HPSS Research</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_004_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">The Workflow and Utility of OpenAlex Mapper</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_005_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Genre Classification for Historical Medical Periodicals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_006_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Towards Computational HPSS: Tracing the Influence of the Ancient Wisdom Tradition on Early Modern Science using the LLM-powered Semantic Matching Tool of the VERITRACE project</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_007_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Interpretability for LLMs: Transparency, Applications and Scientific Insights in the Humanities</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_008_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modeling Science: LLM for the History, Philosophy and Sociology of Science</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_009_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">The Representation of SDG-Related Research in Bibliometric Databases: A Conceptual Inquiry via LLMs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_010_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Extracting Citation Data from Law Humanities Scholarship Using LLMs and a Specialized Gold Standard Dataset</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_011_chapter.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Can We Build an AI Solution to Chat with Papers? Exploring the Ghostwriter and EverythingData Workflow</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ai-nepi_012_chapter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Retrieval Augmented Generation (RAG) in HPSS Research: Applications, Methodological Challenges, and Limitations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#the-challenge-of-information-overload-in-science" id="toc-the-challenge-of-information-overload-in-science" class="nav-link" data-scroll-target="#the-challenge-of-information-overload-in-science"><span class="header-section-number">11.1</span> The Challenge of Information Overload in Science</a></li>
  <li><a href="#conceptualising-interaction-librarians-and-experts" id="toc-conceptualising-interaction-librarians-and-experts" class="nav-link" data-scroll-target="#conceptualising-interaction-librarians-and-experts"><span class="header-section-number">11.2</span> Conceptualising Interaction: Librarians and Experts</a></li>
  <li><a href="#the-ghostwriter-approach-a-novel-information-retrieval-interface" id="toc-the-ghostwriter-approach-a-novel-information-retrieval-interface" class="nav-link" data-scroll-target="#the-ghostwriter-approach-a-novel-information-retrieval-interface"><span class="header-section-number">11.3</span> The Ghostwriter Approach: A Novel Information Retrieval Interface</a></li>
  <li><a href="#ghostwriter-and-everythingdata-architecture-and-workflow" id="toc-ghostwriter-and-everythingdata-architecture-and-workflow" class="nav-link" data-scroll-target="#ghostwriter-and-everythingdata-architecture-and-workflow"><span class="header-section-number">11.4</span> Ghostwriter and EverythingData: Architecture and Workflow</a></li>
  <li><a href="#technical-foundations-vector-and-graph-databases-in-rag" id="toc-technical-foundations-vector-and-graph-databases-in-rag" class="nav-link" data-scroll-target="#technical-foundations-vector-and-graph-databases-in-rag"><span class="header-section-number">11.5</span> Technical Foundations: Vector and Graph Databases in RAG</a></li>
  <li><a href="#ghostwriter-in-action-indexing-and-querying" id="toc-ghostwriter-in-action-indexing-and-querying" class="nav-link" data-scroll-target="#ghostwriter-in-action-indexing-and-querying"><span class="header-section-number">11.6</span> Ghostwriter in Action: Indexing and Querying</a></li>
  <li><a href="#behind-the-scenes-enhancing-retrieval-with-semantics" id="toc-behind-the-scenes-enhancing-retrieval-with-semantics" class="nav-link" data-scroll-target="#behind-the-scenes-enhancing-retrieval-with-semantics"><span class="header-section-number">11.7</span> Behind the Scenes: Enhancing Retrieval with Semantics</a></li>
  <li><a href="#live-demonstration-insights" id="toc-live-demonstration-insights" class="nav-link" data-scroll-target="#live-demonstration-insights"><span class="header-section-number">11.8</span> Live Demonstration Insights</a></li>
  <li><a href="#summary-and-outlook" id="toc-summary-and-outlook" class="nav-link" data-scroll-target="#summary-and-outlook"><span class="header-section-number">11.9</span> Summary and Outlook</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Can We Build an AI Solution to Chat with Papers? Exploring the Ghostwriter and EverythingData Workflow</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andrea and Slava </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Invalid Date</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="overview">Overview</h2>
<p>This exploration investigates the potential of artificial intelligence (AI) to facilitate direct, conversational engagement with academic papers. Central to this inquiry is the development of a bespoke AI solution, encompassing an introduction to information retrieval, human-machine interaction, and Retrieval-Augmented Generation (RAG) techniques. A specific use case, the method-data-analysis (mda) journal, serves to illustrate the practical application. The chapter details the underlying workflow of this tailored AI solution, introducing components nicknamed ‘Ghostwriter’ (the interface) and ‘EverythingData’ (the backend processes). Furthermore, it provides illustrations of both front-end and back-end operations, culminating in a summary of findings and an outlook on future developments.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_02.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Overview of this talk’ listing key sections: Research question, Introduction, Use case, Workflow, Illustrations, and Summary and Outlook. The research question ‘Can we build an AI solution to chat with papers?’ is highlighted.</figcaption>
</figure>
</div>
</section>
<section id="the-challenge-of-information-overload-in-science" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="the-challenge-of-information-overload-in-science"><span class="header-section-number">11.1</span> The Challenge of Information Overload in Science</h2>
<p>The evolution of scientific disciplines reveals a consistent pattern of growth and increasing differentiation. This expansion, whilst indicative of progress, presents a significant challenge: the overwhelming task of reviewing, evaluating, and selecting relevant information from a vast corpus of literature. Effectively creating new knowledge, whether within individual minds or across broader academic communities, presupposes the ability to first find and then comprehend existing work. Machines, particularly recent AI advancements, have undeniably fostered this growth in information. A pressing question thus arises: can these same technologies also support the intricate process of knowledge production itself? This inquiry fundamentally concerns Information Retrieval.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_01.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Science dynamics and AI’ detailing the growth of sciences, the problem of information overload, and the role of AI in information retrieval. The phrase ‘Information Retrieval.’ is highlighted.</figcaption>
</figure>
</div>
<p>Addressing this, a core research question guides this work: can an AI solution be constructed to enable users to ‘chat’ with papers from a specific, curated selection? The exploration centres on illustrating such a system, demonstrating how AI can help manage the flood of information in which researchers increasingly find themselves. Two key components underpin this solution: ‘Ghostwriter’, an intuitive interface, and ‘EverythingData’, a comprehensive term for the backend architecture and data processing pipelines.</p>
</section>
<section id="conceptualising-interaction-librarians-and-experts" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="conceptualising-interaction-librarians-and-experts"><span class="header-section-number">11.2</span> Conceptualising Interaction: Librarians and Experts</h2>
<p>To articulate the system’s interaction paradigm on a more general level, certain metaphors prove insightful. One can conceptualise the interaction as a dialogue with different personas. The ‘librarian’ metaphor represents structured data, knowledge organisation systems, and pre-existing classifications – the organised information of the past. Conversely, the ‘expert’ metaphor embodies interaction through natural language, reflecting a conversation with a knowledgeable specialist. The Ghostwriter interface aspires to facilitate a simultaneous conversation with both these ‘librarians’ and ‘experts’, merging structured data access with natural language understanding.</p>
</section>
<section id="the-ghostwriter-approach-a-novel-information-retrieval-interface" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="the-ghostwriter-approach-a-novel-information-retrieval-interface"><span class="header-section-number">11.3</span> The Ghostwriter Approach: A Novel Information Retrieval Interface</h2>
<p>A primary challenge in any problem-solving endeavour is formulating the right question. Traditional information retrieval often requires users to possess knowledge of database schemas and their typical values to obtain meaningful results. More advanced systems, akin to interacting with a ‘librarian’ backed by connected structured databases, might suggest similar or better queries based on schema connections, a feature common on the web but less so in localised interactions. Large Language Models (LLMs) alone, representing an interaction with a ‘library’ or a ‘round of experts’, interpret natural language queries and provide natural language results.</p>
<p>The Ghostwriter approach, however, proposes a more integrated model. It involves a local LLM interacting with a target data collection, embedded within a network of additional data interpretation sources accessible via APIs. This configuration allows a user to ‘chat’ with experts and librarians concurrently. The system generates a family of terms around the initial query, identifies related structured information, and returns a list of results. Crucially, if applied iteratively, this process can assist users in reformulating their questions by fostering a better understanding of what they genuinely wish to ask and what questions the available data space can meaningfully address. This methodology aligns with the broader academic discourse on Retrieval-Augmented Generation (RAG), a topic well introduced in literature such as Philip Rathle’s work for Neo4j.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_03.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘The Ghostwriter approach - new IR interface’ presenting a table that contrasts four query interaction models: Query vs Database, Query vs Librarian, Query vs LLM, and the proposed Ghostwriter model (LLM (local) + target data + network), which is highlighted.</figcaption>
</figure>
</div>
</section>
<section id="ghostwriter-and-everythingdata-architecture-and-workflow" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="ghostwriter-and-everythingdata-architecture-and-workflow"><span class="header-section-number">11.4</span> Ghostwriter and EverythingData: Architecture and Workflow</h2>
<p>The construction of this conversational AI solution relies on several main ingredients. Firstly, a vector space materialises from the content of data files, encoded in embeddings computed by machine learning algorithms and various LLMs. Secondly, a graph component provides a metadata layer, integrated with ontologies and vocabularies, often expressed using standards like the Croissant ML standard.</p>
<p>The vision underpinning this architecture is the combination of graph structures and vector representations into a unified model, sometimes termed GraphRAG. This model functions as a ‘locally’ distributed AI, where the LLM serves as both an interface and a reasoning engine. In its implementation, the LLM connects to a “RAG library” (the graph component) to navigate datasets and consumes embeddings (vectors) as contextual information.</p>
<p>The workflow commences with a collection of articles, for instance, from the method-data-analysis (mda) journal. These documents feed into the ‘EverythingData’ backend. Here, a series of operations execute: information ingests into a vector store (e.g., using Qdrant), followed by term extraction, embedding construction, and other related processes. A key insight from development conversations is that coupling this vectorised information with knowledge graphs significantly enhances its value. This linkage contextualises words, phrases, and embeddings, adding another layer of meaning. This enriched data, comprising the vector space and graph, forms the knowledge base with which the Ghostwriter interface interacts. When a user formulates a natural language question, the system consults this knowledge base, returning a list of relevant documents—as one might expect from information retrieval—along with a summary generated by the machinery reflecting its understanding of the query.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_04.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Ghostwriter and EverythingData’ outlining main ingredients (Vector space, Graph), Vision (GraphRAG), and Implementation (LLM connected to RAG library). It includes a reference to ‘The GraphRAG Manifesto’ by Philip Rathle.</figcaption>
</figure>
</div>
</section>
<section id="technical-foundations-vector-and-graph-databases-in-rag" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="technical-foundations-vector-and-graph-databases-in-rag"><span class="header-section-number">11.5</span> Technical Foundations: Vector and Graph Databases in RAG</h2>
<p>The development of this system involved deconstructing the LLM training process into smaller, manageable pieces to identify optimal application points. Whilst demonstrated with academic papers, the underlying principles extend to any web content, including spreadsheets, enabling users to ask questions about specific values with responses grounded solely in the provided source, thereby mitigating hallucinations. A core objective was to employ relatively simple LLMs (e.g., one billion parameters) augmented with knowledge graphs to answer complex questions accurately.</p>
<p>For the use case focusing on the GESIS journal ‘methods, data, analyses’ (mda), papers were ingested into the Ghostwriter tool, creating a distinct collection. The system deliberately avoids relying on any pre-existing knowledge within the LLM. Instead, when a user asks a question about a specific paper, the system must respond using only factual information present within that paper. If the information is absent, the system explicitly states its inability to answer, fulfilling a crucial design goal.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_05.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Vector Database Vs Graph Database for RAG’ comparing information indexing and retrieval processes for vector databases (chunking, vector encoding, nearest neighbour search) and graph databases (entity extraction, knowledge base indexing, subgraph retrieval). Handwritten notes on the right further elaborate on word processing and vector space creation.</figcaption>
</figure>
</div>
<p>The process involves splitting each paper into small blocks, each assigned a unique identifier. LLM techniques then intelligently connect and retrieve these blocks. Weights and other factors, informed by knowledge graphs, help predict which text segments will best answer a specific question.</p>
</section>
<section id="ghostwriter-in-action-indexing-and-querying" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="ghostwriter-in-action-indexing-and-querying"><span class="header-section-number">11.6</span> Ghostwriter in Action: Indexing and Querying</h2>
<p>To illustrate, content from the mda journal website undergoes an indexing process within the Ghostwriter interface. A test collection, for example, might comprise around 100 articles scraped from the mda website.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_06.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Ghostwriter: index documents and webpages in collection’ showing two screenshots: the mda journal website on the left, and the Ghostwriter interface on the right, with an arrow indicating the flow of content ingestion. The Ghostwriter interface shows options for adding webpages and managing collections.</figcaption>
</figure>
</div>
<p>When a query, such as “explain male breadwinner model to me,” is posed, the system furnishes an answer along with references to the source documents. This implementation ensures that references are accurate and the system does not confabulate information, as it knows precisely where to find the relevant data. If the system cannot locate information for a query, it clearly indicates that no direct information is available. Users also possess the facility to add new papers to the collection, so that subsequent identical queries can find answers within the newly added content.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_08.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Ghostwriter - chatting to papers’ displaying the Ghostwriter interface. A query ‘explain male breadwinner model to me’ yields an answer and a list of source documents with titles, references, and scores.</figcaption>
</figure>
</div>
<p>The system supports an iterative approach to questioning. For instance, a user might refine their initial query to “explain how data was collected on the male breadwinner model.” If the indexed texts lack direct information on data collection methods for this specific model, the system will state this, potentially referencing studies that examined the model but without detailing their data collection procedures. This iterative refinement helps prevent “hallucinations” by grounding responses firmly in the available textual evidence.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_09.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Ghostwriter - iterative approach preventing “hallucinations”’ showing the interface with a refined query about data collection for the male breadwinner model. The answer indicates no direct information but mentions related studies.</figcaption>
</figure>
</div>
</section>
<section id="behind-the-scenes-enhancing-retrieval-with-semantics" class="level2" data-number="11.7">
<h2 data-number="11.7" class="anchored" data-anchor-id="behind-the-scenes-enhancing-retrieval-with-semantics"><span class="header-section-number">11.7</span> Behind the Scenes: Enhancing Retrieval with Semantics</h2>
<p>Several sophisticated processes operate behind the Ghostwriter interface to enable its capabilities. Entity extraction plays a crucial role, where terms are annotated with semantic meaning by mapping them to controlled vocabularies. This effectively transitions information from a simple vector space to a richer knowledge graph representation.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_10.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Looking behind the screens’ listing key backend processes: Entity extraction, Linking entities to knowledge graphs (Wikidata), Immediate multilinguality, and Feeding back results using LLM for summary generation.</figcaption>
</figure>
</div>
<p>Entities identified in the text are further linked to established knowledge graph representations, such as Wikidata. This linkage is fundamental to achieving immediate multilinguality. A query in one language can be understood and processed against documents in other languages because the underlying entities are mapped to language-agnostic identifiers with multilingual labels. For example, a query like “explain male breadwinner model to me” is internally deconstructed. The terms are mapped to graph representations and annotated with “facts” derived from knowledge organisation systems. This process can be repeated numerous times, uncovering deeper semantic layers beneath a term.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_11.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Entity extraction: Query is mapped to graph representa’ displaying a JSON-like structure that shows how the query ‘explain male breadwinner model to me’ is broken down into facts and graph components with concepts, entities, relationships, and importance scores.</figcaption>
</figure>
</div>
<p>The system links these extracted entities to Wikidata, obtaining identifiers that connect to multilingual translations and associated properties. This means a query effectively becomes a set of Wikidata identifiers, decoupling the knowledge from the specific phrasing of the question and the language of the source papers. This structured, semantic representation of the query is then fed to the LLM, which in turn produces a summary or “explanatory text” based on the retrieved and contextualised information. The original query, once processed and enriched with semantic annotations, can be translated into hundreds of languages, all forming part of the comprehensive query submitted to the LLM.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_13.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Linking entities to wikidata ontology - “male” term’ listing Wikidata entries for the term ‘male’ with descriptions, concept URIs, and similarity scores derived from LLM embeddings.</figcaption>
</figure>
</div>
<p>This approach of decoupling knowledge by representing it as connections to external, stable identifiers (like those in Wikidata) offers a robust method for grounding LLM responses and for benchmarking. New LLMs can be tested against the same identifier-based queries to assess their consistency and accuracy in retrieving relevant concepts. Knowledge organisation systems, therefore, are posited as a cornerstone for future developments in reliable AI.</p>
</section>
<section id="live-demonstration-insights" class="level2" data-number="11.8">
<h2 data-number="11.8" class="anchored" data-anchor-id="live-demonstration-insights"><span class="header-section-number">11.8</span> Live Demonstration Insights</h2>
<p>A practical demonstration showcased the system’s capabilities. Upon querying “Rational Choice Theory,” the interface processed the request, retrieved relevant information from its indexed collection of papers, and presented a summary derived from multiple sources, complete with references to the original documents.</p>
<p>Further interaction involved refining the query to “explain utility in Rational Choice Theory.” The system again selected pertinent information segments from the papers and delivered a nuanced response, still pointing to the source materials. An important feature highlighted was the system’s multilingual proficiency; questions posed in English could elicit responses based on papers written entirely in German, for instance.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_16.jpg" class="img-fluid figure-img"></p>
<figcaption>A screenshot from the live demonstration, showing a PDF document in German related to Rational Choice Theory, which the system processed in response to an English query.</figcaption>
</figure>
</div>
<p>The system also offers an API, enabling its integration into automated, agentic architectures where queries can be chained, results collected, and analyses performed to identify new knowledge within papers. If the system lacks an answer, users can add the relevant page or document, ensuring its availability for future queries.</p>
</section>
<section id="summary-and-outlook" class="level2" data-number="11.9">
<h2 data-number="11.9" class="anchored" data-anchor-id="summary-and-outlook"><span class="header-section-number">11.9</span> Summary and Outlook</h2>
<p>The Ghostwriter and EverythingData pipeline demonstrates a functional approach for creating a semantic index and a local chatbot for diverse collections, ranging from webpages and RSS feeds to trusted data repositories like Dataverse instances. This enables localised “chatting with papers,” thereby supporting closer human reading and comprehension. By situating a user’s question (and the document collection) within a specific area of the networked space of scientific knowledge, the search space becomes more contained and relevant.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ai-nepi_011_slide_12.jpg" class="img-fluid figure-img"></p>
<figcaption>Slide titled ‘Summary’ listing five key takeaways: Pipeline versatility, support for close reading, contained search space, information gain beyond explicit text through KOS, and query refinement capabilities of the Ghostwriter interface.</figcaption>
</figure>
</div>
<p>Users can gain information that extends beyond what is explicitly stated in the text or annotated in metadata. This occurs through the creation of associations at both the natural language level and the level of Knowledge Organisation Systems, akin to conversing with the “invisible colleges” of experts behind the papers. The Ghostwriter interface, built upon the EverythingData workflow, empowers users to find related documents and, critically, to refine their questions and queries iteratively.</p>
<p>A significant advantage of this approach is local control, offering an alternative to relying on large, external AI models where users may have less oversight and incur costs. The system is envisioned not as a replacement for human intellect but as a tool to provoke and support the human thought process, particularly in the crucial phase of formulating the right research questions.</p>
<p>Future work involves fostering collaborations where specific research questions can drive further development and refinement. The principles are adaptable to various data sources. Validation is an ongoing process, with plans to involve the wider community, potentially through open-sourcing the project via organisations like the Linux Foundation. This community engagement will be vital for benchmarking against other systems and continuously improving performance. The system’s architecture, which decouples knowledge representation from specific LLMs, facilitates this validation by allowing different models to be tested against a stable knowledge base. Furthermore, the ease of ingesting new collections, as demonstrated by work with institutions like Harvard University to index diverse content including GitHub repositories and manuals, underscores its flexibility. Addressing potential biases, such as recency bias in results, involves collecting facts with associated timestamps, allowing for nuanced, temporally-aware processing rather than monolithic answers. The ongoing development aims to make such sophisticated local AI tools more accessible and sustainable for the research community.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ai-nepi_010_chapter.html" class="pagination-link" aria-label="Extracting Citation Data from Law Humanities Scholarship Using LLMs and a Specialized Gold Standard Dataset">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Extracting Citation Data from Law Humanities Scholarship Using LLMs and a Specialized Gold Standard Dataset</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ai-nepi_012_chapter.html" class="pagination-link" aria-label="Retrieval Augmented Generation (RAG) in HPSS Research: Applications, Methodological Challenges, and Limitations">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Retrieval Augmented Generation (RAG) in HPSS Research: Applications, Methodological Challenges, and Limitations</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>